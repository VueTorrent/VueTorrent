import{F as q,x as B,z as E,aA as H,aB as N,Q as U,K as P,aC as I,aD as L,p as z,n as O,aj as Q,V as j,q as G,r as J,s as W,aE as Y,ar as X,y as Z,A as x,B as _,d as ee,aF as te,aG as F,aH as ae}from"./index-DJVYmKAa.js";import{f as S,e as v,a6 as le,K as r,U as y,L as a,O as l,y as oe,V as C,n as o,R as b,P as h,u as p,F as $,_ as K,a7 as ne,a8 as se,a1 as A,b as R,r as re,Q as ie,T as ue,S as de,W as ce,Y as me,J as ye}from"./vue-BlUxyxf-.js";import{V as fe}from"./VForm-C5Oej_Tg.js";import{b as he}from"./vuetify-Cnll-KcT.js";const ve={class:"d-flex"},Ve={key:2},ke={key:3},Ce=S({__name:"RightClickMenuEntry",props:{entryData:{}},setup(e){const t=e,u=N(L?"Meta":"Control",{initial:!1}),d=v(()=>"ontouchstart"in window||navigator.maxTouchPoints>0);function i(){t.entryData.action?.()}return(c,V)=>{const m=le("RightClickMenuEntry",!0);return e.entryData.hidden?y("",!0):(a(),r(q,{key:0,class:"px-3",disabled:e.entryData.disabled,onClick:i},{default:l(()=>[oe("div",ve,[e.entryData.disabled&&e.entryData.disabledIcon?(a(),r(B,{key:0,class:"mr-2"},{default:l(()=>[b(h(e.entryData.disabledIcon),1)]),_:1})):e.entryData.icon?(a(),r(B,{key:1,class:"mr-2"},{default:l(()=>[b(h(e.entryData.icon),1)]),_:1})):y("",!0),e.entryData.disabled&&e.entryData.disabledText?(a(),C("span",Ve,h(e.entryData.disabledText),1)):(a(),C("span",ke,h(e.entryData.text),1)),o(E),!e.entryData.disabled&&e.entryData.children?(a(),r(B,{key:4},{default:l(()=>[...V[0]||(V[0]=[b(" mdi-chevron-right ",-1)])]),_:1})):y("",!0)]),e.entryData.children?(a(),r(H,{key:0,activator:"parent","open-on-hover":!d.value,"open-on-click":"","close-on-content-click":!p(u),"close-delay":"10","open-delay":"0",location:"right"},{default:l(()=>[o(U,null,{default:l(()=>[e.entryData.slots?.top?(a(),C($,{key:0},[(a(!0),C($,null,K(e.entryData.slots.top,(s,k)=>(a(),r(m,{key:k,"entry-data":s},null,8,["entry-data"]))),128)),o(P,{thickness:"3"})],64)):y("",!0),o(I,{items:e.entryData.children,"item-height":"48",renderless:""},{default:l(({item:s})=>[o(m,{"entry-data":s},null,8,["entry-data"])]),_:1},8,["items"]),e.entryData.slots?.bottom?(a(),C($,{key:1},[o(P,{thickness:"3"}),(a(!0),C($,null,K(e.entryData.slots.bottom,(s,k)=>(a(),r(m,{key:k,"entry-data":s},null,8,["entry-data"]))),128))],64)):y("",!0)]),_:1})]),_:1},8,["open-on-hover","close-on-content-click"])):y("",!0)]),_:1},8,["disabled"]))}}}),pe=S({__name:"RightClickMenu",props:ne({menuData:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=se(e,"modelValue"),u=N(L?"Meta":"Control",{initial:!1});return(d,i)=>t.value?(a(),r(H,{key:0,modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=c=>t.value=c),activator:"parent","close-on-content-click":!p(u),transition:"slide-y-transition",class:"text-noselect","scroll-strategy":"none"},{default:l(()=>[o(U,null,{default:l(()=>[A(d.$slots,"top"),d.$slots.top?(a(),r(P,{key:0,thickness:"3"})):y("",!0),o(I,{items:e.menuData,"item-height":"48",renderless:""},{default:l(({item:c})=>[o(Ce,{"entry-data":c},null,8,["entry-data"])]),_:1},8,["items"]),d.$slots.bottom?(a(),r(P,{key:1,thickness:"3"})):y("",!0),A(d.$slots,"bottom")]),_:3})]),_:3},8,["modelValue","close-on-content-click"])):y("",!0)}}),we=S({__name:"MoveTorrentDialog",props:{guid:{},hashes:{},mode:{}},setup(e){const t=e,{isOpened:u}=z(t.guid),{t:d}=O(),i=Q(),c=R(),V=R(),m=R(!1),s=re({newPath:""}),k=[n=>!!n||d("dialogs.moveTorrent.required")],w=v(()=>t.hashes.map(i.getTorrentByHash)),D=v(()=>t.mode==="dl"?w.value[0]?.download_path:w.value[0]?.savePath);async function T(){await c.value?.validate(),m.value&&(await i.toggleAutoTmm(t.hashes,!1),await i.moveTorrents(t.mode,t.hashes,s.newPath),V.value?.saveValueToHistory(),M())}function M(){u.value=!1}return ie(()=>{s.newPath=D.value||""}),(n,f)=>(a(),r(_,{modelValue:p(u),"onUpdate:modelValue":f[3]||(f[3]=g=>ce(u)?u.value=g:null)},{default:l(()=>[o(j,null,{default:l(()=>[o(G,null,{default:l(()=>[b(h(n.$t(`dialogs.moveTorrent.${e.mode}.title`)),1)]),_:1}),o(J,null,{default:l(()=>[o(p(fe),{ref_key:"form",ref:c,modelValue:m.value,"onUpdate:modelValue":f[1]||(f[1]=g=>m.value=g),onSubmit:f[2]||(f[2]=ue(()=>{},["prevent"]))},{default:l(()=>[D.value?(a(),r(W,{key:0,"model-value":D.value,disabled:"",label:n.$t("dialogs.moveTorrent.oldPath")},null,8,["model-value","label"])):y("",!0),o(Y,{ref_key:"field",ref:V,modelValue:s.newPath,"onUpdate:modelValue":f[0]||(f[0]=g=>s.newPath=g),"history-key":p(X).TORRENT_PATH,rules:k,autofocus:"",label:n.$t("dialogs.moveTorrent.newPath"),onKeydown:de(T,["enter"])},null,8,["modelValue","history-key","label"])]),_:1},8,["modelValue"])]),_:1}),o(Z,null,{default:l(()=>[o(E),o(x,{color:"error",onClick:M},{default:l(()=>[b(h(n.$t("common.cancel")),1)]),_:1}),o(x,{color:"accent",disabled:!m.value,onClick:T},{default:l(()=>[b(h(n.$t("common.save")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Me=S({__name:"ColoredChip",props:{defaultColor:{},disabled:{type:Boolean,default:!1},disabledValue:{},value:{}},setup(e){const t=e,{t:u}=O(),{current:d}=he(),i=ee(),{enableHashColors:c,hideColoredChip:V}=me(i);function m(n){return d.value.colors[n]??n}function s(n){return k.value?n.darken(30):n}const k=v(()=>i.theme.mode===te.DARK&&i.theme.dark==="dark-oled"),w=v(()=>t.disabled||!c.value?t.defaultColor:F(t.value,s)),D=v(()=>t.disabled||!c.value?m(t.defaultColor):F(t.value,s)),T=v(()=>t.disabled?t.disabledValue||t.value||u("common.none"):t.value),M=v(()=>!V.value);return(n,f)=>M.value?(a(),r(ae,{key:0,color:w.value,variant:"flat"},{default:l(()=>[b(h(T.value),1)]),_:1},8,["color"])):(a(),C("div",{key:1,class:"text-no-wrap",style:ye(`color: ${D.value}`)},h(T.value),5))}});export{pe as _,we as a,Me as b};

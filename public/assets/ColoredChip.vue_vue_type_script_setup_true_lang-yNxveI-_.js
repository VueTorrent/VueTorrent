import{H as O,a as S,z as H,ai as U,aj as A,Q as E,K as _,ak as I,al as q,q as z,o as L,ag as Q,r as j,s as J,v as W,V as X,am as Z,an as G,y as Y,A as R,B as x,e as ee,ao as ae,ap as K,aq as te}from"./index-Bu0L3drQ.js";import{f as $,a4 as oe,J as n,V as c,K as t,M as o,y as le,W as v,n as l,S as V,Q as f,u as g,F as M,$ as N,a5 as se,a6 as ne,a2 as F,b as B,r as re,e as k,R as de,U as ue,T as ie,X as me,Z as ce,N as ye}from"./vue-RBz4_81T.js";import{V as fe}from"./VForm-3bj9z2FK.js";import{b as pe}from"./vuetify-CqJhlpxZ.js";const he={class:"d-flex"},ve={key:2},ke={key:3},Ve=$({__name:"RightClickMenuEntry",props:{entryData:{}},setup(h){const a=h,m=A(q?"Meta":"Control",{initial:!1});function u(){a.entryData.action?.()}return(e,r)=>{const p=oe("RightClickMenuEntry",!0);return e.entryData.hidden?c("",!0):(t(),n(O,{key:0,class:"px-3",disabled:e.entryData.disabled,onClick:u},{default:o(()=>[le("div",he,[e.entryData.disabled&&e.entryData.disabledIcon?(t(),n(S,{key:0,class:"mr-2"},{default:o(()=>[V(f(e.entryData.disabledIcon),1)]),_:1})):e.entryData.icon?(t(),n(S,{key:1,class:"mr-2"},{default:o(()=>[V(f(e.entryData.icon),1)]),_:1})):c("",!0),e.entryData.disabled&&e.entryData.disabledText?(t(),v("span",ve,f(e.entryData.disabledText),1)):(t(),v("span",ke,f(e.entryData.text),1)),l(H),!e.entryData.disabled&&e.entryData.children?(t(),n(S,{key:4},{default:o(()=>[...r[0]||(r[0]=[V(" mdi-chevron-right ",-1)])]),_:1})):c("",!0)]),e.entryData.children?(t(),n(U,{key:0,activator:"parent","open-on-hover":"","open-on-click":"","close-on-content-click":!g(m),"close-delay":"10","open-delay":"0",location:"right"},{default:o(()=>[l(E,null,{default:o(()=>[e.entryData.slots?.top?(t(),v(M,{key:0},[(t(!0),v(M,null,N(e.entryData.slots.top,(d,i)=>(t(),n(p,{key:i,"entry-data":d},null,8,["entry-data"]))),128)),l(_,{thickness:"3"})],64)):c("",!0),l(I,{items:e.entryData.children,"item-height":"48",renderless:""},{default:o(({item:d})=>[l(p,{"entry-data":d},null,8,["entry-data"])]),_:1},8,["items"]),e.entryData.slots?.bottom?(t(),v(M,{key:1},[l(_,{thickness:"3"}),(t(!0),v(M,null,N(e.entryData.slots.bottom,(d,i)=>(t(),n(p,{key:i,"entry-data":d},null,8,["entry-data"]))),128))],64)):c("",!0)]),_:1})]),_:1},8,["close-on-content-click"])):c("",!0)]),_:1},8,["disabled"]))}}}),Te=$({__name:"RightClickMenu",props:se({menuData:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(h){const a=ne(h,"modelValue"),m=A(q?"Meta":"Control",{initial:!1});return(u,e)=>a.value?(t(),n(U,{key:0,modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=r=>a.value=r),activator:"parent","close-on-content-click":!g(m),transition:"slide-y-transition",class:"text-noselect","scroll-strategy":"none"},{default:o(()=>[l(E,null,{default:o(()=>[F(u.$slots,"top"),u.$slots.top?(t(),n(_,{key:0,thickness:"3"})):c("",!0),l(I,{items:u.menuData,"item-height":"48",renderless:""},{default:o(({item:r})=>[l(Ve,{"entry-data":r},null,8,["entry-data"])]),_:1},8,["items"]),u.$slots.bottom?(t(),n(_,{key:1,thickness:"3"})):c("",!0),F(u.$slots,"bottom")]),_:3})]),_:3},8,["modelValue","close-on-content-click"])):c("",!0)}}),we=$({__name:"MoveTorrentDialog",props:{guid:{},hashes:{},mode:{}},setup(h){const a=h,{isOpened:m}=z(a.guid),{t:u}=L(),e=Q(),r=B(),p=B(),d=B(!1),i=re({newPath:""}),P=[s=>!!s||u("dialogs.moveTorrent.required")],T=k(()=>a.hashes.map(e.getTorrentByHash)),C=k(()=>{switch(a.mode){case"dl":return T.value[0]?.download_path;case"save":default:return T.value[0]?.savePath}});async function b(){await r.value?.validate(),d.value&&(await e.toggleAutoTmm(a.hashes,!1),await e.moveTorrents(a.mode,a.hashes,i.newPath),p.value?.saveValueToHistory(),w())}function w(){m.value=!1}return de(()=>{i.newPath=C.value||""}),(s,y)=>(t(),n(x,{modelValue:g(m),"onUpdate:modelValue":y[3]||(y[3]=D=>me(m)?m.value=D:null)},{default:o(()=>[l(j,null,{default:o(()=>[l(J,null,{default:o(()=>[V(f(s.$t(`dialogs.moveTorrent.${s.mode}.title`)),1)]),_:1}),l(W,null,{default:o(()=>[l(g(fe),{ref_key:"form",ref:r,modelValue:d.value,"onUpdate:modelValue":y[1]||(y[1]=D=>d.value=D),onSubmit:y[2]||(y[2]=ue(()=>{},["prevent"]))},{default:o(()=>[C.value?(t(),n(X,{key:0,"model-value":C.value,disabled:"",label:s.$t("dialogs.moveTorrent.oldPath")},null,8,["model-value","label"])):c("",!0),l(Z,{ref_key:"field",ref:p,modelValue:i.newPath,"onUpdate:modelValue":y[0]||(y[0]=D=>i.newPath=D),"history-key":g(G).TORRENT_PATH,rules:P,autofocus:"",label:s.$t("dialogs.moveTorrent.newPath"),onKeydown:ie(b,["enter"])},null,8,["modelValue","history-key","label"])]),_:1},8,["modelValue"])]),_:1}),l(Y,null,{default:o(()=>[l(H),l(R,{color:"error",onClick:w},{default:o(()=>[V(f(s.$t("common.cancel")),1)]),_:1}),l(R,{color:"accent",disabled:!d.value,onClick:b},{default:o(()=>[V(f(s.$t("common.save")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Me=$({__name:"ColoredChip",props:{defaultColor:{},disabled:{type:Boolean,default:!1},disabledValue:{},value:{}},setup(h){const a=h,{t:m}=L(),{current:u}=pe(),e=ee(),{enableHashColors:r,hideColoredChip:p}=ce(e);function d(s){return u.value.colors[s]??s}function i(s){return P.value?s.darken(30):s}const P=k(()=>e.theme.mode===ae.DARK&&e.theme.dark==="dark-oled"),T=k(()=>a.disabled||!r.value?a.defaultColor:K(a.value,i)),C=k(()=>a.disabled||!r.value?d(a.defaultColor):K(a.value,i)),b=k(()=>a.disabled?a.disabledValue||a.value||m("common.none"):a.value),w=k(()=>!p.value);return(s,y)=>w.value?(t(),n(te,{key:0,color:T.value,variant:"flat"},{default:o(()=>[V(f(b.value),1)]),_:1},8,["color"])):(t(),v("div",{key:1,class:"text-no-wrap",style:ye(`color: ${C.value}`)},f(b.value),5))}});export{Te as _,we as a,Me as b};

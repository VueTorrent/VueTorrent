import{p as T,h as j,v as we,w as se,g as R,i as te,a as z,I as M,x as ot,e as C,y as ut,z as oe,A as ke,B as Y,C as J,d as de,D as ce,E as ue,F as me,c as it,f as dt,m as ct,G as Z,j as ft}from"./vuetify-CqJhlpxZ.js";import{e as w,k as fe,d as q,p as K,y as b,n as p,v as A,q as Q,b as L,w as vt,c as gt,s as mt,t as F,F as W,N as De,S as he,U as X,Q as ht,B as bt}from"./vue-RBz4_81T.js";import{V as be}from"./VPagination-D1wc-IJE.js";import{I as Te,bf as yt,S as xt,bg as pt,bh as St,J as ve,a as ye,aq as Pt,A as Ie,bb as wt,m as kt,ad as Dt,W as Tt,aZ as It,a$ as Vt,K as Ft}from"./index-DZgHcyvS.js";const Ct=T({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Ve=Symbol.for("vuetify:data-table-pagination");function Bt(e){const t=j(e,"page",void 0,a=>Number(a??1)),l=j(e,"itemsPerPage",void 0,a=>Number(a??10));return{page:t,itemsPerPage:l}}function _t(e){const{page:t,itemsPerPage:l,itemsLength:a}=e,n=w(()=>l.value===-1?0:l.value*(t.value-1)),r=w(()=>l.value===-1?a.value:Math.min(a.value,n.value+l.value)),s=w(()=>l.value===-1||a.value===0?1:Math.ceil(a.value/l.value));fe([t,s],()=>{t.value>s.value&&(t.value=s.value)});function i(d){l.value=d,t.value=1}function o(){t.value=se(t.value+1,1,s.value)}function u(){t.value=se(t.value-1,1,s.value)}function f(d){t.value=se(d,1,s.value)}const v={page:t,itemsPerPage:l,startIndex:n,stopIndex:r,pageCount:s,itemsLength:a,nextPage:o,prevPage:u,setPage:f,setItemsPerPage:i};return K(Ve,v),v}function Ot(){const e=q(Ve);if(!e)throw new Error("Missing pagination!");return e}function Et(e){const t=we("usePaginatedItems"),{items:l,startIndex:a,stopIndex:n,itemsPerPage:r}=e,s=w(()=>r.value<=0?l.value:l.value.slice(a.value,n.value));return fe(s,i=>{t.emit("update:currentItems",i)},{immediate:!0}),{paginatedItems:s}}const Fe=T({prevIcon:{type:M,default:"$prev"},nextIcon:{type:M,default:"$next"},firstIcon:{type:M,default:"$first"},lastIcon:{type:M,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),xe=R()({name:"VDataTableFooter",props:Fe(),setup(e,t){let{slots:l}=t;const{t:a}=te(),{page:n,pageCount:r,startIndex:s,stopIndex:i,itemsLength:o,itemsPerPage:u,setItemsPerPage:f}=Ot(),v=w(()=>e.itemsPerPageOptions.map(d=>typeof d=="number"?{value:d,title:d===-1?a("$vuetify.dataFooter.itemsPerPageAll"):String(d)}:{...d,title:isNaN(Number(d.title))?a(d.title):d.title}));return z(()=>{const d=be.filterProps(e);return b("div",{class:"v-data-table-footer"},[l.prepend?.(),b("div",{class:"v-data-table-footer__items-per-page"},[b("span",{"aria-label":a(e.itemsPerPageText)},[a(e.itemsPerPageText)]),p(Te,{items:v.value,modelValue:u.value,"onUpdate:modelValue":m=>f(Number(m)),density:"compact",variant:"outlined",hideDetails:!0},null)]),b("div",{class:"v-data-table-footer__info"},[b("div",null,[a(e.pageText,o.value?s.value+1:0,i.value,o.value)])]),b("div",{class:"v-data-table-footer__pagination"},[p(be,A({modelValue:n.value,"onUpdate:modelValue":m=>n.value=m,density:"comfortable",firstAriaLabel:e.firstPageLabel,lastAriaLabel:e.lastPageLabel,length:r.value,nextAriaLabel:e.nextPageLabel,previousAriaLabel:e.prevPageLabel,rounded:!0,showFirstLastPage:!0,totalVisible:e.showCurrentPage?1:0,variant:"plain"},d),null)])])}),{}}}),ee=ot({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:l}=t;const a=e.tag??"td",n=typeof e.fixed=="string"?e.fixed:e.fixed?"start":"none";return p(a,{class:Q(["v-data-table__td",{"v-data-table-column--fixed":n==="start","v-data-table-column--fixed-end":n==="end","v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--first-fixed-end":e.firstFixedEnd,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`]),style:{height:C(e.height),width:C(e.width),maxWidth:C(e.maxWidth),left:n==="start"?C(e.fixedOffset||null):void 0,right:n==="end"?C(e.fixedEndOffset||null):void 0}},{default:()=>[l.default?.()]})}),At=T({headers:Array},"DataTable-header"),Ce=Symbol.for("vuetify:data-table-headers"),Be={title:"",sortable:!1},Nt={...Be,width:48};function $t(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(l=>({element:l,priority:0}));return{enqueue:(l,a)=>{let n=!1;for(let r=0;r<t.length;r++)if(t[r].priority>a){t.splice(r,0,{element:l,priority:a}),n=!0;break}n||t.push({element:l,priority:a})},size:()=>t.length,count:()=>{let l=0;if(!t.length)return 0;const a=Math.floor(t[0].priority);for(let n=0;n<t.length;n++)Math.floor(t[n].priority)===a&&(l+=1);return l},dequeue:()=>t.shift()}}function ie(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const l of e.children)ie(l,t);return t}function _e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const l of e)l.key&&t.add(l.key),l.children&&_e(l.children,t);return t}function Rt(e){if(e.key){if(e.key==="data-table-group")return Be;if(["data-table-expand","data-table-select"].includes(e.key))return Nt}}function ge(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(l=>ge(l,t+1))):t}function Ht(e){let t=!1;function l(r,s){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none";if(r)if(i!=="none"&&(r.fixed=i),r.fixed===!0&&(r.fixed="start"),r.fixed===s)if(r.children)if(s==="start")for(let o=r.children.length-1;o>=0;o--)l(r.children[o],s,s);else for(let o=0;o<r.children.length;o++)l(r.children[o],s,s);else!t&&s==="start"?r.lastFixed=!0:!t&&s==="end"?r.firstFixedEnd=!0:isNaN(Number(r.width))?ut(`Multiple fixed columns should have a static width (key: ${r.key})`):r.minWidth=Math.max(Number(r.width)||0,Number(r.minWidth)||0),t=!0;else if(r.children)if(s==="start")for(let o=r.children.length-1;o>=0;o--)l(r.children[o],s);else for(let o=0;o<r.children.length;o++)l(r.children[o],s);else t=!1}for(let r=e.length-1;r>=0;r--)l(e[r],"start");for(let r=0;r<e.length;r++)l(e[r],"end");let a=0;for(let r=0;r<e.length;r++)a=Oe(e[r],a);let n=0;for(let r=e.length-1;r>=0;r--)n=Ee(e[r],n)}function Oe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return t;if(e.children){e.fixedOffset=t;for(const l of e.children)t=Oe(l,t)}else e.fixed&&e.fixed!=="end"&&(e.fixedOffset=t,t+=parseFloat(e.width||"0")||0);return t}function Ee(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return t;if(e.children){e.fixedEndOffset=t;for(const l of e.children)t=Ee(l,t)}else e.fixed==="end"&&(e.fixedEndOffset=t,t+=parseFloat(e.width||"0")||0);return t}function Gt(e,t){const l=[];let a=0;const n=$t(e);for(;n.size()>0;){let s=n.count();const i=[];let o=1;for(;s>0;){const{element:u,priority:f}=n.dequeue(),v=t-a-ge(u);if(i.push({...u,rowspan:v??1,colspan:u.children?ie(u).length:1}),u.children)for(const d of u.children){const m=f%1+o/Math.pow(10,a+2);n.enqueue(d,a+v+m)}o+=1,s-=1}a+=1,l.push(i)}return{columns:e.map(s=>ie(s)).flat(),headers:l}}function Ae(e){const t=[];for(const l of e){const a={...Rt(l),...l},n=a.key??(typeof a.value=="string"?a.value:null),r=a.value??n??null,s={...a,key:n,value:r,sortable:a.sortable??(a.key!=null||!!a.sort),children:a.children?Ae(a.children):void 0};t.push(s)}return t}function Lt(e,t){const l=L([]),a=L([]),n=L({}),r=L({}),s=L({});vt(()=>{const u=(e.headers||Object.keys(e.items[0]??{}).map(y=>({key:y,title:gt(y)}))).slice(),f=_e(u);t?.groupBy?.value.length&&!f.has("data-table-group")&&u.unshift({key:"data-table-group",title:"Group"}),t?.showSelect?.value&&!f.has("data-table-select")&&u.unshift({key:"data-table-select"}),t?.showExpand?.value&&!f.has("data-table-expand")&&u.push({key:"data-table-expand"});const v=Ae(u);Ht(v);const d=Math.max(...v.map(y=>ge(y)))+1,m=Gt(v,d);l.value=m.headers,a.value=m.columns;const x=m.headers.flat(1);for(const y of x)y.key&&(y.sortable&&(y.sort&&(n.value[y.key]=y.sort),y.sortRaw&&(r.value[y.key]=y.sortRaw)),y.filter&&(s.value[y.key]=y.filter))});const i={headers:l,columns:a,sortFunctions:n,sortRawFunctions:r,filterFunctions:s};return K(Ce,i),i}function ae(){const e=q(Ce);if(!e)throw new Error("Missing headers!");return e}const Mt={showSelectAll:!1,allSelected:()=>[],select:e=>{let{items:t,value:l}=e;return new Set(l?[t[0]?.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},Ne={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:l,selected:a}=e;for(const n of t)l?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:t,currentPage:l,selected:a}=e;return Ne.select({items:l,value:t,selected:a})}},$e={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:l,selected:a}=e;for(const n of t)l?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:t,allItems:l,selected:a}=e;return $e.select({items:l,value:t,selected:a})}},jt=T({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:ke}},"DataTable-select"),Re=Symbol.for("vuetify:data-table-selection");function Wt(e,t){let{allItems:l,currentPage:a}=t;const n=j(e,"modelValue",e.modelValue,h=>new Set(oe(h).map(S=>l.value.find(V=>e.valueComparator(S,V.value))?.value??S)),h=>[...h.values()]),r=w(()=>l.value.filter(h=>h.selectable)),s=w(()=>a.value.filter(h=>h.selectable)),i=w(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return Mt;case"all":return $e;case"page":default:return Ne}}),o=mt(null);function u(h){return oe(h).every(S=>n.value.has(S.value))}function f(h){return oe(h).some(S=>n.value.has(S.value))}function v(h,S){const V=i.value.select({items:h,value:S,selected:new Set(n.value)});n.value=V}function d(h,S,V){const k=[];if(S=S??a.value.findIndex(B=>B.value===h.value),e.selectStrategy!=="single"&&V?.shiftKey&&o.value!==null){const[B,$]=[o.value,S].sort((E,P)=>E-P);k.push(...a.value.slice(B,$+1).filter(E=>E.selectable))}else k.push(h),o.value=S;v(k,!u([h]))}function m(h){const S=i.value.selectAll({value:h,allItems:r.value,currentPage:s.value,selected:new Set(n.value)});n.value=S}const x=w(()=>n.value.size>0),y=w(()=>{const h=i.value.allSelected({allItems:r.value,currentPage:s.value});return!!h.length&&u(h)}),c=F(()=>i.value.showSelectAll),I={toggleSelect:d,select:v,selectAll:m,isSelected:u,isSomeSelected:f,someSelected:x,allSelected:y,showSelectAll:c,lastSelectedIndex:o,selectStrategy:i};return K(Re,I),I}function le(){const e=q(Re);if(!e)throw new Error("Missing selection!");return e}const zt=T({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),He=Symbol.for("vuetify:data-table-sort");function qt(e){const t=j(e,"sortBy"),l=F(()=>e.mustSort),a=F(()=>e.multiSort);return{sortBy:t,mustSort:l,multiSort:a}}function Kt(e){const{sortBy:t,mustSort:l,multiSort:a,page:n}=e,r=o=>{if(o.key==null)return;let u=t.value.map(v=>({...v}))??[];const f=u.find(v=>v.key===o.key);f?f.order==="desc"?l.value&&u.length===1?f.order="asc":u=u.filter(v=>v.key!==o.key):f.order="desc":a.value?u.push({key:o.key,order:"asc"}):u=[{key:o.key,order:"asc"}],t.value=u,n&&(n.value=1)};function s(o){return!!t.value.find(u=>u.key===o.key)}const i={sortBy:t,toggleSort:r,isSorted:s};return K(He,i),i}function Ge(){const e=q(He);if(!e)throw new Error("Missing sort!");return e}function Ut(e,t,l,a){const n=te();return{sortedItems:w(()=>l.value.length?Qt(t.value,l.value,n.current.value,{transform:a?.transform,sortFunctions:{...e.customKeySort,...a?.sortFunctions?.value},sortRawFunctions:a?.sortRawFunctions?.value}):t.value)}}function Qt(e,t,l,a){const n=new Intl.Collator(l,{sensitivity:"accent",usage:"sort"});return e.map(s=>[s,a?.transform?a.transform(s):s]).sort((s,i)=>{for(let o=0;o<t.length;o++){let u=!1;const f=t[o].key,v=t[o].order??"asc";if(v===!1)continue;let d=Y(s[1],f),m=Y(i[1],f),x=s[0].raw,y=i[0].raw;if(v==="desc"&&([d,m]=[m,d],[x,y]=[y,x]),a?.sortRawFunctions?.[f]){const c=a.sortRawFunctions[f](x,y);if(c==null)continue;if(u=!0,c)return c}if(a?.sortFunctions?.[f]){const c=a.sortFunctions[f](d,m);if(c==null)continue;if(u=!0,c)return c}if(!u&&(d instanceof Date&&m instanceof Date&&(d=d.getTime(),m=m.getTime()),[d,m]=[d,m].map(c=>c!=null?c.toString().toLocaleLowerCase():c),d!==m))return J(d)&&J(m)?0:J(d)?-1:J(m)?1:!isNaN(d)&&!isNaN(m)?Number(d)-Number(m):n.compare(d,m)}return 0}).map(s=>{let[i]=s;return i})}const Le=T({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:M,default:"$sortAsc"},sortDescIcon:{type:M,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...ce(),...St()},"VDataTableHeaders"),pe=R()({name:"VDataTableHeaders",props:Le(),setup(e,t){let{slots:l}=t;const{t:a}=te(),{toggleSort:n,sortBy:r,isSorted:s}=Ge(),{someSelected:i,allSelected:o,selectAll:u,showSelectAll:f}=le(),{columns:v,headers:d}=ae(),{loaderClasses:m}=yt(e);function x(P,g){if(!(e.sticky||e.fixedHeader)&&!P.fixed)return;const D=typeof P.fixed=="string"?P.fixed:P.fixed?"start":"none";return{position:"sticky",left:D==="start"?C(P.fixedOffset):void 0,right:D==="end"?C(P.fixedEndOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${g})`:void 0}}function y(P,g){P.key==="Enter"&&!e.disableSort&&n(g)}function c(P){const g=r.value.find(D=>D.key===P.key);return g?g.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:I,backgroundColorStyles:h}=xt(()=>e.color),{displayClasses:S,mobile:V}=de(e),k=w(()=>({headers:d.value,columns:v.value,toggleSort:n,isSorted:s,sortBy:r.value,someSelected:i.value,allSelected:o.value,selectAll:u,getSortIcon:c})),B=w(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},S.value,m.value]),$=P=>{let{column:g,x:D,y:_}=P;const ne=g.key==="data-table-select"||g.key==="data-table-expand",re=A(e.headerProps??{},g.headerProps??{});return p(ee,A({tag:"th",align:g.align,class:[{"v-data-table__th--sortable":g.sortable&&!e.disableSort,"v-data-table__th--sorted":s(g),"v-data-table__th--fixed":g.fixed},...B.value],style:{width:C(g.width),minWidth:C(g.minWidth),maxWidth:C(g.maxWidth),...x(g,_)},colspan:g.colspan,rowspan:g.rowspan,fixed:g.fixed,nowrap:g.nowrap,lastFixed:g.lastFixed,firstFixedEnd:g.firstFixedEnd,noPadding:ne,tabindex:g.sortable?0:void 0,onClick:g.sortable?()=>n(g):void 0,onKeydown:g.sortable?H=>y(H,g):void 0},re),{default:()=>{const H=`header.${g.key}`,G={column:g,selectAll:u,isSorted:s,toggleSort:n,sortBy:r.value,someSelected:i.value,allSelected:o.value,getSortIcon:c};return l[H]?l[H](G):g.key==="data-table-select"?l["header.data-table-select"]?.(G)??(f.value&&p(ve,{modelValue:o.value,indeterminate:i.value&&!o.value,"onUpdate:modelValue":u},null)):b("div",{class:"v-data-table-header__content"},[b("span",null,[g.title]),g.sortable&&!e.disableSort&&p(ye,{key:"icon",class:"v-data-table-header__sort-icon",icon:c(g)},null),e.multiSort&&s(g)&&b("div",{key:"badge",class:Q(["v-data-table-header__sort-badge",...I.value]),style:De(h.value)},[r.value.findIndex(U=>U.key===g.key)+1])])}})},E=()=>{const P=w(()=>v.value.filter(D=>D?.sortable&&!e.disableSort)),g=w(()=>{if(v.value.find(_=>_.key==="data-table-select")!=null)return o.value?"$checkboxOn":i.value?"$checkboxIndeterminate":"$checkboxOff"});return p(ee,A({tag:"th",class:[...B.value],colspan:d.value.length+1},e.headerProps),{default:()=>[b("div",{class:"v-data-table-header__content"},[p(Te,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:P.value,label:a("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>r.value=[],appendIcon:g.value,"onClick:append":()=>u(!o.value)},{chip:D=>p(Pt,{onClick:D.item.raw?.sortable?()=>n(D.item.raw):void 0,onMousedown:_=>{_.preventDefault(),_.stopPropagation()}},{default:()=>[D.item.title,p(ye,{class:Q(["v-data-table__td-sort-icon",s(D.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:c(D.item.raw),size:"small"},null)]})})])]})};z(()=>V.value?b("tr",null,[p(E,null,null)]):b(W,null,[l.headers?l.headers(k.value):d.value.map((P,g)=>b("tr",null,[P.map((D,_)=>p($,{column:D,x:_,y:g},null))])),e.loading&&b("tr",{class:"v-data-table-progress"},[b("th",{colspan:v.value.length},[p(pt,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:l.loader})])])]))}}),Jt=T({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Me=Symbol.for("vuetify:data-table-group");function Zt(e){return{groupBy:j(e,"groupBy")}}function Xt(e){const{disableSort:t,groupBy:l,sortBy:a}=e,n=L(new Set),r=w(()=>l.value.map(f=>({...f,order:f.order??!1})).concat(t?.value?[]:a.value));function s(f){return n.value.has(f.id)}function i(f){const v=new Set(n.value);s(f)?v.delete(f.id):v.add(f.id),n.value=v}function o(f){function v(d){const m=[];for(const x of d.items)"type"in x&&x.type==="group"?m.push(...v(x)):m.push(x);return[...new Set(m)]}return v({items:f})}const u={sortByWithGroups:r,toggleGroup:i,opened:n,groupBy:l,extractRows:o,isGroupOpen:s};return K(Me,u),u}function je(){const e=q(Me);if(!e)throw new Error("Missing group!");return e}function Yt(e,t){if(!e.length)return[];const l=new Map;for(const a of e){const n=Y(a.raw,t);l.has(n)||l.set(n,[]),l.get(n).push(a)}return l}function We(e,t){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const n=Yt(e,t[0]),r=[],s=t.slice(1);return n.forEach((i,o)=>{const u=t[0],f=`${a}_${u}_${o}`;r.push({depth:l,id:f,key:u,value:o,items:s.length?We(i,s,l+1,f):i,type:"group"})}),r}function ze(e,t){const l=[];for(const a of e)"type"in a&&a.type==="group"?(a.value!=null&&l.push(a),(t.has(a.id)||a.value==null)&&l.push(...ze(a.items,t))):l.push(a);return l}function ea(e,t,l){return{flatItems:w(()=>{if(!t.value.length)return e.value;const n=We(e.value,t.value.map(r=>r.key));return ze(n,l.value)})}}const ta=T({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),aa=R()({name:"VDataTableGroupHeaderRow",props:ta(),setup(e,t){let{slots:l}=t;const{isGroupOpen:a,toggleGroup:n,extractRows:r}=je(),{isSelected:s,isSomeSelected:i,select:o}=le(),{columns:u}=ae(),f=w(()=>r([e.item]));return()=>b("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[u.value.map(v=>{if(v.key==="data-table-group"){const d=a(e.item)?"$expand":"$next",m=()=>n(e.item);return l["data-table-group"]?.({item:e.item,count:f.value.length,props:{icon:d,onClick:m}})??p(ee,{class:"v-data-table-group-header-row__column"},{default:()=>[p(Ie,{size:"small",variant:"text",icon:d,onClick:m},null),b("span",null,[e.item.value]),b("span",null,[he("("),f.value.length,he(")")])]})}if(v.key==="data-table-select"){const d=s(f.value),m=i(f.value)&&!d,x=y=>o(f.value,y);return l["data-table-select"]?.({props:{modelValue:d,indeterminate:m,"onUpdate:modelValue":x}})??b("td",null,[p(ve,{modelValue:d,indeterminate:m,"onUpdate:modelValue":x},null)])}return b("td",null,null)})])}}),la=T({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),qe=Symbol.for("vuetify:datatable:expanded");function na(e){const t=F(()=>e.expandOnClick),l=j(e,"expanded",e.expanded,i=>new Set(i),i=>[...i.values()]);function a(i,o){const u=new Set(l.value);o?u.add(i.value):u.delete(i.value),l.value=u}function n(i){return l.value.has(i.value)}function r(i){a(i,!n(i))}const s={expand:a,expanded:l,expandOnClick:t,isExpanded:n,toggleExpand:r};return K(qe,s),s}function Ke(){const e=q(qe);if(!e)throw new Error("foo");return e}const ra=T({index:Number,item:Object,cellProps:[Object,Function],onClick:ue(),onContextmenu:ue(),onDblclick:ue(),...ce()},"VDataTableRow"),sa=R()({name:"VDataTableRow",props:ra(),setup(e,t){let{slots:l}=t;const{displayClasses:a,mobile:n}=de(e,"v-data-table__tr"),{isSelected:r,toggleSelect:s,someSelected:i,allSelected:o,selectAll:u}=le(),{isExpanded:f,toggleExpand:v}=Ke(),{toggleSort:d,sortBy:m,isSorted:x}=Ge(),{columns:y}=ae();z(()=>b("tr",{class:Q(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},a.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&y.value.map((c,I)=>{const h=e.item,S=`item.${c.key}`,V=`header.${c.key}`,k={index:e.index,item:h.raw,internalItem:h,value:Y(h.columns,c.key),column:c,isSelected:r,toggleSelect:s,isExpanded:f,toggleExpand:v},B={column:c,selectAll:u,isSorted:x,toggleSort:d,sortBy:m.value,someSelected:i.value,allSelected:o.value,getSortIcon:()=>""},$=typeof e.cellProps=="function"?e.cellProps({index:k.index,item:k.item,internalItem:k.internalItem,value:k.value,column:c}):e.cellProps,E=typeof c.cellProps=="function"?c.cellProps({index:k.index,item:k.item,internalItem:k.internalItem,value:k.value}):c.cellProps;return p(ee,A({align:c.align,class:{"v-data-table__td--expanded-row":c.key==="data-table-expand","v-data-table__td--select-row":c.key==="data-table-select"},fixed:c.fixed,fixedOffset:c.fixedOffset,fixedEndOffset:c.fixedEndOffset,lastFixed:c.lastFixed,firstFixedEnd:c.firstFixedEnd,maxWidth:n.value?void 0:c.maxWidth,noPadding:c.key==="data-table-select"||c.key==="data-table-expand",nowrap:c.nowrap,width:n.value?void 0:c.width},$,E),{default:()=>{if(c.key==="data-table-select")return l["item.data-table-select"]?.({...k,props:{disabled:!h.selectable,modelValue:r([h]),onClick:X(()=>s(h),["stop"])}})??p(ve,{disabled:!h.selectable,modelValue:r([h]),onClick:X(g=>s(h,e.index,g),["stop"])},null);if(c.key==="data-table-expand")return l["item.data-table-expand"]?.({...k,props:{icon:f(h)?"$collapse":"$expand",size:"small",variant:"text",onClick:X(()=>v(h),["stop"])}})??p(Ie,{icon:f(h)?"$collapse":"$expand",size:"small",variant:"text",onClick:X(()=>v(h),["stop"])},null);if(l[S]&&!n.value)return l[S](k);const P=ht(k.value);return n.value?b(W,null,[b("div",{class:"v-data-table__td-title"},[l[V]?.(B)??c.title]),b("div",{class:"v-data-table__td-value"},[l[S]?.(k)??P])]):P}})})]))}}),Ue=T({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...ce()},"VDataTableRows"),Se=R()({name:"VDataTableRows",inheritAttrs:!1,props:Ue(),setup(e,t){let{attrs:l,slots:a}=t;const{columns:n}=ae(),{expandOnClick:r,toggleExpand:s,isExpanded:i}=Ke(),{isSelected:o,toggleSelect:u}=le(),{toggleGroup:f,isGroupOpen:v}=je(),{t:d}=te(),{mobile:m}=de(e);return z(()=>e.loading&&(!e.items.length||a.loading)?b("tr",{class:"v-data-table-rows-loading",key:"loading"},[b("td",{colspan:n.value.length},[a.loading?.()??d(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?b("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[b("td",{colspan:n.value.length},[a["no-data"]?.()??d(e.noDataText)])]):b(W,null,[e.items.map((x,y)=>{if(x.type==="group"){const h={index:y,item:x,columns:n.value,isExpanded:i,toggleExpand:s,isSelected:o,toggleSelect:u,toggleGroup:f,isGroupOpen:v};return a["group-header"]?a["group-header"](h):p(aa,A({key:`group-header_${x.id}`,item:x},me(l,":group-header",()=>h)),a)}const c={index:y,item:x.raw,internalItem:x,columns:n.value,isExpanded:i,toggleExpand:s,isSelected:o,toggleSelect:u},I={...c,props:A({key:`item_${x.key??x.index}`,onClick:r.value?()=>{s(x)}:void 0,index:y,item:x,cellProps:e.cellProps,mobile:m.value},me(l,":row",()=>c),typeof e.rowProps=="function"?e.rowProps({item:c.item,index:c.index,internalItem:c.internalItem}):e.rowProps)};return b(W,{key:I.props.key},[a.item?a.item(I):p(sa,I.props,a),i(x)&&a["expanded-row"]?.(c)])})])),{}}}),Qe=T({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:e=>["even","odd"].includes(e)},...ct(),...Dt(),...kt(),...dt()},"VTable"),Pe=R()({name:"VTable",props:Qe(),setup(e,t){let{slots:l,emit:a}=t;const{themeClasses:n}=it(e),{densityClasses:r}=wt(e);return z(()=>{const s={VCheckboxBtn:{density:e.density}};return p(e.tag,{class:Q(["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!l.top,"v-table--has-bottom":!!l.bottom,"v-table--hover":e.hover,"v-table--striped-even":e.striped==="even","v-table--striped-odd":e.striped==="odd"},n.value,r.value,e.class]),style:De(e.style)},{default:()=>[l.top?.(),p(Tt,{defaults:s},{default:()=>[l.default?b("div",{class:"v-table__wrapper",style:{height:C(e.height)}},[b("table",null,[l.default()])]):l.wrapper?.()]}),l.bottom?.()]})}),{}}}),oa=T({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function ua(e,t,l,a){const n=e.returnObject?t:Z(t,e.itemValue),r=Z(t,e.itemSelectable,!0),s=a.reduce((i,o)=>(o.key!=null&&(i[o.key]=Z(t,o.value)),i),{});return{type:"item",key:e.returnObject?Z(t,e.itemValue):n,index:l,value:n,selectable:r,columns:s,raw:t}}function ia(e,t,l){return t.map((a,n)=>ua(e,a,n,l))}function da(e,t){return{items:w(()=>ia(e,e.items,t.value))}}function ca(e){let{page:t,itemsPerPage:l,sortBy:a,groupBy:n,search:r}=e;const s=we("VDataTable"),i=()=>({page:t.value,itemsPerPage:l.value,sortBy:a.value,groupBy:n.value,search:r.value});let o=null;fe(i,u=>{ke(o,u)||(o&&o.search!==u.search&&(t.value=1),s.emit("update:options",u),o=u)},{deep:!0,immediate:!0})}const fa=T({...Ue(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...la(),...Jt(),...At(),...oa(),...jt(),...zt(),...Le(),...Qe()},"DataTable"),va=T({...Ct(),...fa(),...Vt(),...Fe()},"VDataTable"),ya=R()({name:"VDataTable",props:va(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:l,slots:a}=t;const{groupBy:n}=Zt(e),{sortBy:r,multiSort:s,mustSort:i}=qt(e),{page:o,itemsPerPage:u}=Bt(e),{disableSort:f}=bt(e),{columns:v,headers:d,sortFunctions:m,sortRawFunctions:x,filterFunctions:y}=Lt(e,{groupBy:n,showSelect:F(()=>e.showSelect),showExpand:F(()=>e.showExpand)}),{items:c}=da(e,v),I=F(()=>e.search),{filteredItems:h}=It(e,c,I,{transform:N=>N.columns,customKeyFilter:y}),{toggleSort:S}=Kt({sortBy:r,multiSort:s,mustSort:i,page:o}),{sortByWithGroups:V,opened:k,extractRows:B,isGroupOpen:$,toggleGroup:E}=Xt({groupBy:n,sortBy:r,disableSort:f}),{sortedItems:P}=Ut(e,h,V,{transform:N=>({...N.raw,...N.columns}),sortFunctions:m,sortRawFunctions:x}),{flatItems:g}=ea(P,n,k),D=w(()=>g.value.length),{startIndex:_,stopIndex:ne,pageCount:re,setItemsPerPage:H}=_t({page:o,itemsPerPage:u,itemsLength:D}),{paginatedItems:G}=Et({items:g,startIndex:_,stopIndex:ne,itemsPerPage:u}),U=w(()=>B(G.value)),{isSelected:Je,select:Ze,selectAll:Xe,toggleSelect:Ye,someSelected:et,allSelected:tt}=Wt(e,{allItems:c,currentPage:U}),{isExpanded:at,toggleExpand:lt}=na(e);ca({page:o,itemsPerPage:u,sortBy:r,groupBy:n,search:I}),ft({VDataTableRows:{hideNoData:F(()=>e.hideNoData),noDataText:F(()=>e.noDataText),loading:F(()=>e.loading),loadingText:F(()=>e.loadingText)}});const O=w(()=>({page:o.value,itemsPerPage:u.value,sortBy:r.value,pageCount:re.value,toggleSort:S,setItemsPerPage:H,someSelected:et.value,allSelected:tt.value,isSelected:Je,select:Ze,selectAll:Xe,toggleSelect:Ye,isExpanded:at,toggleExpand:lt,isGroupOpen:$,toggleGroup:E,items:U.value.map(N=>N.raw),internalItems:U.value,groupedItems:G.value,columns:v.value,headers:d.value}));return z(()=>{const N=xe.filterProps(e),nt=pe.filterProps(e),rt=Se.filterProps(e),st=Pe.filterProps(e);return p(Pe,A({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},st,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>a.top?.(O.value),default:()=>a.default?a.default(O.value):b(W,null,[a.colgroup?.(O.value),!e.hideDefaultHeader&&b("thead",{key:"thead"},[p(pe,nt,a)]),a.thead?.(O.value),!e.hideDefaultBody&&b("tbody",null,[a["body.prepend"]?.(O.value),a.body?a.body(O.value):p(Se,A(l,rt,{items:G.value}),a),a["body.append"]?.(O.value)]),a.tbody?.(O.value),a.tfoot?.(O.value)]),bottom:()=>a.bottom?a.bottom(O.value):!e.hideDefaultFooter&&b(W,null,[p(Ft,null,null),p(xe,N,{prepend:a["footer.prepend"]})])})}),{}}});export{ya as V,qt as a,Lt as b,Zt as c,Xt as d,Ut as e,ea as f,Wt as g,na as h,ca as i,pe as j,Se as k,Pe as l,Jt as m,fa as n,sa as o,Kt as p,da as u};

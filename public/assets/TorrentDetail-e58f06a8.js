import{m as $,d as x,a as W}from"./vue-b220ace6.js";import{a1 as N,a4 as H,be as ve,b as n,y as h,aW as fe,aS as ge,a2 as ye,bf as Ce,bg as Te,e as B,bh as be,Q as d,s as y,t as f,A as v,B as o,T as E,I,J as U,K as F,L as M,a6 as G,a8 as we,a9 as q,aa as X,ab as Se,bi as xe,l as ke,bj as $e,bk as Oe,P as J,G as Pe,R as j,bl as De,bm as Ae,bn as Ie,bo as Fe,bp as Ne,bq as Le,br as Be,bs as P,bt as R,bu as b,x as _,ay as Ee,H as Ue,bv as Me,bw as V,bx as je,z as g,E as S,V as L,D as Q,aA as Y,b6 as Z,by as ee,bz as te,bA as Re,r as se,aC as z,bB as Ve,bC as ze,aD as Ke,C as We,bD as He,Y as D,f as w}from"./index-90e29838.js";import{F as k}from"./FullScreenModal-b7264cb2.js";import{B as A,_ as Ge,c as qe,a as C,b as Xe}from"./VTab-9d71d855.js";import{_ as ie,a as Je}from"./VDataTable-6e0b38a9.js";import{_ as ae}from"./VCheckbox-252dfc15.js";import{_ as re}from"./VDialog-8a971ae4.js";import{_ as ne}from"./VTextarea-6ed7e653.js";import{_ as T}from"./VTabItem-1832d563.js";import"./index-d12b1238.js";const K=N(A,H).extend({name:"v-list-item-group",provide(){return{isInGroup:!0,listItemGroup:this}},computed:{classes(){return{...A.options.computed.classes.call(this),"v-list-item-group":!0}}},methods:{genData(){return this.setTextColor(this.color,{...A.options.methods.genData.call(this),attrs:{role:"listbox"}})}}});const Qe=N(H,ve("treeview")),oe={activatable:Boolean,activeClass:{type:String,default:"v-treeview-node--active"},color:{type:String,default:"primary"},disablePerNode:Boolean,expandIcon:{type:String,default:"$subgroup"},indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},itemChildren:{type:String,default:"children"},itemDisabled:{type:String,default:"disabled"},itemKey:{type:String,default:"id"},itemText:{type:String,default:"name"},loadChildren:Function,loadingIcon:{type:String,default:"$loading"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"},openOnClick:Boolean,rounded:Boolean,selectable:Boolean,selectedColor:{type:String,default:"accent"},shaped:Boolean,transition:Boolean,selectionType:{type:String,default:"leaf",validator:s=>["leaf","independent"].includes(s)}},le=Qe.extend().extend({name:"v-treeview-node",inject:{treeview:{default:null}},props:{level:Number,item:{type:Object,default:()=>null},parentIsDisabled:Boolean,...oe},data:()=>({hasLoaded:!1,isActive:!1,isIndeterminate:!1,isLoading:!1,isOpen:!1,isSelected:!1}),computed:{disabled(){return n(this.item,this.itemDisabled)||!this.disablePerNode&&this.parentIsDisabled&&this.selectionType==="leaf"},key(){return n(this.item,this.itemKey)},children(){const s=n(this.item,this.itemChildren);return s&&s.filter(e=>!this.treeview.isExcluded(n(e,this.itemKey)))},text(){return n(this.item,this.itemText)},scopedProps(){return{item:this.item,leaf:!this.children,selected:this.isSelected,indeterminate:this.isIndeterminate,active:this.isActive,open:this.isOpen}},computedIcon(){return this.isIndeterminate?this.indeterminateIcon:this.isSelected?this.onIcon:this.offIcon},hasChildren(){return!!this.children&&(!!this.children.length||!!this.loadChildren)}},created(){this.treeview.register(this)},beforeDestroy(){this.treeview.unregister(this)},methods:{checkChildren(){return new Promise(s=>{if(!this.children||this.children.length||!this.loadChildren||this.hasLoaded)return s();this.isLoading=!0,s(this.loadChildren(this.item))}).then(()=>{this.isLoading=!1,this.hasLoaded=!0})},open(){this.isOpen=!this.isOpen,this.treeview.updateOpen(this.key,this.isOpen),this.treeview.emitOpen()},genLabel(){const s=[];return this.$scopedSlots.label?s.push(this.$scopedSlots.label(this.scopedProps)):s.push(this.text),this.$createElement("div",{slot:"label",staticClass:"v-treeview-node__label"},s)},genPrependSlot(){return this.$scopedSlots.prepend?this.$createElement("div",{staticClass:"v-treeview-node__prepend"},this.$scopedSlots.prepend(this.scopedProps)):null},genAppendSlot(){return this.$scopedSlots.append?this.$createElement("div",{staticClass:"v-treeview-node__append"},this.$scopedSlots.append(this.scopedProps)):null},genContent(){const s=[this.genPrependSlot(),this.genLabel(),this.genAppendSlot()];return this.$createElement("div",{staticClass:"v-treeview-node__content"},s)},genToggle(){return this.$createElement(h,{staticClass:"v-treeview-node__toggle",class:{"v-treeview-node__toggle--open":this.isOpen,"v-treeview-node__toggle--loading":this.isLoading},slot:"prepend",on:{click:s=>{s.stopPropagation(),!this.isLoading&&this.checkChildren().then(()=>this.open())}}},[this.isLoading?this.loadingIcon:this.expandIcon])},genCheckbox(){return this.$createElement(h,{staticClass:"v-treeview-node__checkbox",props:{color:this.isSelected||this.isIndeterminate?this.selectedColor:void 0,disabled:this.disabled},on:{click:s=>{s.stopPropagation(),!this.isLoading&&this.checkChildren().then(()=>{this.$nextTick(()=>{this.isSelected=!this.isSelected,this.isIndeterminate=!1,this.treeview.updateSelected(this.key,this.isSelected),this.treeview.emitSelected()})})}}},[this.computedIcon])},genLevel(s){return fe(s).map(()=>this.$createElement("div",{staticClass:"v-treeview-node__level"}))},genNode(){const s=[this.genContent()];return this.selectable&&s.unshift(this.genCheckbox()),this.hasChildren?s.unshift(this.genToggle()):s.unshift(...this.genLevel(1)),s.unshift(...this.genLevel(this.level)),this.$createElement("div",this.setTextColor(this.isActive&&this.color,{staticClass:"v-treeview-node__root",class:{[this.activeClass]:this.isActive},on:{click:()=>{this.openOnClick&&this.hasChildren?this.checkChildren().then(this.open):this.activatable&&!this.disabled&&(this.isActive=!this.isActive,this.treeview.updateActive(this.key,this.isActive),this.treeview.emitActive())}}}),s)},genChild(s,e){return this.$createElement(le,{key:n(s,this.itemKey),props:{activatable:this.activatable,activeClass:this.activeClass,item:s,selectable:this.selectable,selectedColor:this.selectedColor,color:this.color,disablePerNode:this.disablePerNode,expandIcon:this.expandIcon,indeterminateIcon:this.indeterminateIcon,offIcon:this.offIcon,onIcon:this.onIcon,loadingIcon:this.loadingIcon,itemKey:this.itemKey,itemText:this.itemText,itemDisabled:this.itemDisabled,itemChildren:this.itemChildren,loadChildren:this.loadChildren,transition:this.transition,openOnClick:this.openOnClick,rounded:this.rounded,shaped:this.shaped,level:this.level+1,selectionType:this.selectionType,parentIsDisabled:e},scopedSlots:this.$scopedSlots})},genChildrenWrapper(){if(!this.isOpen||!this.children)return null;const s=[this.children.map(e=>this.genChild(e,this.disabled))];return this.$createElement("div",{staticClass:"v-treeview-node__children"},s)},genTransition(){return this.$createElement(ge,[this.genChildrenWrapper()])}},render(s){const e=[this.genNode()];return this.transition?e.push(this.genTransition()):e.push(this.genChildrenWrapper()),s("div",{staticClass:"v-treeview-node",class:{"v-treeview-node--leaf":!this.hasChildren,"v-treeview-node--click":this.openOnClick,"v-treeview-node--disabled":this.disabled,"v-treeview-node--rounded":this.rounded,"v-treeview-node--shaped":this.shaped,"v-treeview-node--selected":this.isSelected},attrs:{"aria-expanded":String(this.isOpen)}},e)}}),Ye=le;function Ze(s,e,t){return n(s,t).toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}function de(s,e,t,i,a,r,c){if(s(e,t,a))return!0;const l=n(e,r);if(l){let p=!1;for(let u=0;u<l.length;u++)de(s,l[u],t,i,a,r,c)&&(p=!0);if(p)return!0}return c.add(n(e,i)),!1}const et=N(Ce("treeview"),ye).extend({name:"v-treeview",provide(){return{treeview:this}},props:{active:{type:Array,default:()=>[]},dense:Boolean,disabled:Boolean,filter:Function,hoverable:Boolean,items:{type:Array,default:()=>[]},multipleActive:Boolean,open:{type:Array,default:()=>[]},openAll:Boolean,returnObject:{type:Boolean,default:!1},search:String,value:{type:Array,default:()=>[]},...oe},data:()=>({level:-1,activeCache:new Set,nodes:{},openCache:new Set,selectedCache:new Set}),computed:{excludedItems(){const s=new Set;if(!this.search)return s;for(let e=0;e<this.items.length;e++)de(this.filter||Ze,this.items[e],this.search,this.itemKey,this.itemText,this.itemChildren,s);return s}},watch:{items:{handler(){const s=Object.keys(this.nodes).map(a=>n(this.nodes[a].item,this.itemKey)),e=this.getKeys(this.items),t=Te(e,s);if(!t.length&&e.length<s.length)return;t.forEach(a=>delete this.nodes[a]);const i=[...this.selectedCache];this.selectedCache=new Set,this.activeCache=new Set,this.openCache=new Set,this.buildTree(this.items),B(i,[...this.selectedCache])||this.emitSelected()},deep:!0},active(s){this.handleNodeCacheWatcher(s,this.activeCache,this.updateActive,this.emitActive)},value(s){this.handleNodeCacheWatcher(s,this.selectedCache,this.updateSelected,this.emitSelected)},open(s){this.handleNodeCacheWatcher(s,this.openCache,this.updateOpen,this.emitOpen)}},created(){const s=e=>this.returnObject?n(e,this.itemKey):e;this.buildTree(this.items);for(const e of this.value.map(s))this.updateSelected(e,!0,!0);for(const e of this.active.map(s))this.updateActive(e,!0)},mounted(){(this.$slots.prepend||this.$slots.append)&&be("The prepend and append slots require a slot-scope attribute",this),this.openAll?this.updateAll(!0):(this.open.forEach(s=>this.updateOpen(this.returnObject?n(s,this.itemKey):s,!0)),this.emitOpen())},methods:{updateAll(s){Object.keys(this.nodes).forEach(e=>this.updateOpen(n(this.nodes[e].item,this.itemKey),s)),this.emitOpen()},getKeys(s,e=[]){for(let t=0;t<s.length;t++){const i=n(s[t],this.itemKey);e.push(i);const a=n(s[t],this.itemChildren);a&&e.push(...this.getKeys(a))}return e},buildTree(s,e=null){var t;for(let i=0;i<s.length;i++){const a=s[i],r=n(a,this.itemKey),c=(t=n(a,this.itemChildren))!==null&&t!==void 0?t:[],l=this.nodes.hasOwnProperty(r)?this.nodes[r]:{isSelected:!1,isIndeterminate:!1,isActive:!1,isOpen:!1,vnode:null},p={vnode:l.vnode,parent:e,children:c.map(u=>n(u,this.itemKey)),item:a};if(this.buildTree(c,r),this.selectionType!=="independent"&&e!==null&&!this.nodes.hasOwnProperty(r)&&this.nodes.hasOwnProperty(e)?p.isSelected=this.nodes[e].isSelected:(p.isSelected=l.isSelected,p.isIndeterminate=l.isIndeterminate),p.isActive=l.isActive,p.isOpen=l.isOpen,this.nodes[r]=p,c.length&&this.selectionType!=="independent"){const{isSelected:u,isIndeterminate:O}=this.calculateState(r,this.nodes);p.isSelected=u,p.isIndeterminate=O}this.nodes[r].isSelected&&(this.selectionType==="independent"||p.children.length===0)&&this.selectedCache.add(r),this.nodes[r].isActive&&this.activeCache.add(r),this.nodes[r].isOpen&&this.openCache.add(r),this.updateVnodeState(r)}},calculateState(s,e){const t=e[s].children,i=t.reduce((c,l)=>(c[0]+=+!!e[l].isSelected,c[1]+=+!!e[l].isIndeterminate,c),[0,0]),a=!!t.length&&i[0]===t.length,r=!a&&(i[0]>0||i[1]>0);return{isSelected:a,isIndeterminate:r}},emitOpen(){this.emitNodeCache("update:open",this.openCache)},emitSelected(){this.emitNodeCache("input",this.selectedCache)},emitActive(){this.emitNodeCache("update:active",this.activeCache)},emitNodeCache(s,e){this.$emit(s,this.returnObject?[...e].map(t=>this.nodes[t].item):[...e])},handleNodeCacheWatcher(s,e,t,i){s=this.returnObject?s.map(r=>n(r,this.itemKey)):s;const a=[...e];B(a,s)||(a.forEach(r=>t(r,!1)),s.forEach(r=>t(r,!0)),i())},getDescendants(s,e=[]){const t=this.nodes[s].children;e.push(...t);for(let i=0;i<t.length;i++)e=this.getDescendants(t[i],e);return e},getParents(s){let e=this.nodes[s].parent;const t=[];for(;e!==null;)t.push(e),e=this.nodes[e].parent;return t},register(s){const e=n(s.item,this.itemKey);this.nodes[e].vnode=s,this.updateVnodeState(e)},unregister(s){const e=n(s.item,this.itemKey);this.nodes[e]&&(this.nodes[e].vnode=null)},isParent(s){return this.nodes[s].children&&this.nodes[s].children.length},updateActive(s,e){if(!this.nodes.hasOwnProperty(s))return;this.multipleActive||this.activeCache.forEach(i=>{this.nodes[i].isActive=!1,this.updateVnodeState(i),this.activeCache.delete(i)});const t=this.nodes[s];t&&(e?this.activeCache.add(s):this.activeCache.delete(s),t.isActive=e,this.updateVnodeState(s))},updateSelected(s,e,t=!1){if(!this.nodes.hasOwnProperty(s))return;const i=new Map;if(this.selectionType!=="independent"){for(const r of this.getDescendants(s))(!n(this.nodes[r].item,this.itemDisabled)||t)&&(this.nodes[r].isSelected=e,this.nodes[r].isIndeterminate=!1,i.set(r,e));const a=this.calculateState(s,this.nodes);this.nodes[s].isSelected=e,this.nodes[s].isIndeterminate=a.isIndeterminate,i.set(s,e);for(const r of this.getParents(s)){const c=this.calculateState(r,this.nodes);this.nodes[r].isSelected=c.isSelected,this.nodes[r].isIndeterminate=c.isIndeterminate,i.set(r,c.isSelected)}}else this.nodes[s].isSelected=e,this.nodes[s].isIndeterminate=!1,i.set(s,e);for(const[a,r]of i.entries())this.updateVnodeState(a),!(this.selectionType==="leaf"&&this.isParent(a))&&(r===!0?this.selectedCache.add(a):this.selectedCache.delete(a))},updateOpen(s,e){if(!this.nodes.hasOwnProperty(s))return;const t=this.nodes[s],i=n(t.item,this.itemChildren);i&&!i.length&&t.vnode&&!t.vnode.hasLoaded?t.vnode.checkChildren().then(()=>this.updateOpen(s,e)):i&&i.length&&(t.isOpen=e,t.isOpen?this.openCache.add(s):this.openCache.delete(s),this.updateVnodeState(s))},updateVnodeState(s){const e=this.nodes[s];e&&e.vnode&&(e.vnode.isSelected=e.isSelected,e.vnode.isIndeterminate=e.isIndeterminate,e.vnode.isActive=e.isActive,e.vnode.isOpen=e.isOpen)},isExcluded(s){return!!this.search&&this.excludedItems.has(s)}},render(s){const e=this.items.length?this.items.filter(t=>!this.isExcluded(n(t,this.itemKey))).map(t=>Ye.options.methods.genChild.bind(this)(t,this.disabled||n(t,this.itemDisabled))):this.$slots.default;return s("div",{staticClass:"v-treeview",class:{"v-treeview--hoverable":this.hoverable,"v-treeview--dense":this.dense,...this.themeClasses}},e)}});var m=(s=>(s[s.DO_NOT_DOWNLOAD=0]="DO_NOT_DOWNLOAD",s[s.NORMAL=1]="NORMAL",s[s.HIGH=6]="HIGH",s[s.MAXIMAL=7]="MAXIMAL",s))(m||{});const tt={name:"TorrentTagsAndCategories",mixins:[k],props:{hash:String,torrent:Object},data:()=>({categories:[]}),computed:{...$(["getAvailableTags","getCategories"]),availableTags(){return this.getAvailableTags()},availableCategories(){return this.getCategories()},activeCategory(){return this.availableCategories.map(s=>s.name).indexOf(this.torrent.category)},activeTags(){const s=[],e=this.torrent.tags;return e&&e.length&&e.forEach(t=>{const i=this.availableTags.indexOf(t);i!==-1&&s.push(i)}),s}},created(){this.$store.commit("FETCH_CATEGORIES"),this.$store.commit("FETCH_TAGS")},methods:{async addTag(s){if(this.activeTags.includes(this.availableTags.indexOf(s))){await this.deleteTag(s);return}await d.addTorrentTag([this.hash],[s])},async deleteTag(s){await d.removeTorrentTag([this.hash],[s])},async setCategory(s){if(this.torrent.category===s.name){await this.deleteCategory();return}await d.setCategory([this.hash],s.name)},async deleteCategory(){await d.setCategory([this.hash],"")}}};var st=function(){var e=this,t=e._self._c;return t(f,{attrs:{flat:""}},[t(v,{staticClass:"ma-0 pa-0",attrs:{dense:""}},[t(o,{attrs:{cols:"12",md:"6"}},[t(E,[e._v(e._s(e.$t("modals.detail.tagsAndCategories.subHeaderTag")))]),t(K,{attrs:{value:e.activeTags,"active-class":"accent--text",multiple:""}},[e._l(e.availableTags,function(i,a){return[t(I,{key:i.title,attrs:{link:""},on:{click:function(r){return e.addTag(i)}}},[t(U,[t(F,{domProps:{textContent:e._s(i)}})],1)],1),a<e.availableTags.length-1?t(M,{key:a}):e._e()]})],2)],1),t(o,{attrs:{cols:"12",md:"6"}},[t(E,[e._v(e._s(e.$t("modals.detail.tagsAndCategories.subHeaderCategories")))]),t(K,{attrs:{value:e.activeCategory,"active-class":"accent--text"}},[e._l(e.availableCategories,function(i,a){return[t(I,{key:i.title,attrs:{link:""},on:{click:function(r){return e.setCategory(i)}}},[t(U,[t(F,{domProps:{textContent:e._s(i.name)}})],1)],1),a<e.availableCategories.length-1?t(M,{key:a}):e._e()]})],2)],1)],1)],1)},it=[],at=y(tt,st,it,!1,null,"11c557d9",null,null);const ce=at.exports,rt=x({name:"Content",props:{hash:String,isActive:Boolean},mixins:[G],data(){return{timer:null,apiLock:!1,loading:!1,cachedFiles:[],fileTree:[{}],openedItems:[],fileSelection:[],filePriorityOptions:[{name:"Max",icon:we,value:m.MAXIMAL},{name:"High",icon:q,value:m.HIGH},{name:"Normal",icon:X,value:m.NORMAL},{name:"Unwanted",icon:Se,value:m.DO_NOT_DOWNLOAD}],mdiFolderOpen:xe,mdiFolder:ke,mdiFileTree:$e,mdiTrendingUp:Oe,mdiPencil:J}},computed:{...$(["getContentInterval","shouldUseBinaryData"]),torrentHash(){return this.hash}},watch:{isActive(s){s?(this.updateFileTree().then(()=>this.openedItems.push("")),this.timer=setInterval(this.updateFileTree,this.getContentInterval())):clearInterval(this.timer)}},beforeDestroy(){clearInterval(this.timer)},filters:{fileIcon(s){const e={html:Ae,js:Ie,json:Fe,md:Ne,pdf:Le,png:Be,txt:P,sub:P,idx:P,xls:R,xlsx:R,avi:b,mp4:b,mkv:b,mov:b,wmv:b},t=s.name.split(".").pop()||"";return e[t]||Pe},nodeContent(s){let e=0,t=0;for(const a of s.children)a.type==="file"?e++:a.type==="folder"&&t++;const i=[];return e>0&&i.push(j.tc("modals.detail.pageContent.fileInfo",e).toString()),t>0&&i.push(j.tc("modals.detail.pageContent.folderInfo",t).toString()),i.join(", ")}},methods:{getNodePriority(s){const e=this.filePriorityOptions.find(t=>t.value===s.priority);return e?e.name:"undefined"},async updateSelection(s){const e=this.cachedFiles.filter(a=>a.priority!==m.DO_NOT_DOWNLOAD).map(a=>a.index),t=e.filter(a=>!s.includes(a)).map(a=>this.cachedFiles.find(r=>r.index===a)).filter(a=>a.priority!==m.DO_NOT_DOWNLOAD).map(a=>a.index),i=s.filter(a=>!e.includes(a)).map(a=>this.cachedFiles.find(r=>r.index===a)).filter(a=>a.priority===m.DO_NOT_DOWNLOAD).map(a=>a.index);t.length&&await d.setTorrentFilePriority(this.torrentHash,t,m.DO_NOT_DOWNLOAD),i.length&&await d.setTorrentFilePriority(this.torrentHash,i,m.NORMAL)},async renameNode(s){this.createModal("RenameTorrentFileModal",{hash:this.torrentHash,isFolder:s.type==="folder",oldName:s.fullName})},async setFilePrio(s,e){await d.setTorrentFilePriority(this.torrentHash,[s.index],e)},async updateFileTree(){this.apiLock||(this.apiLock=!0,this.loading=!0,this.cachedFiles=await d.getTorrentFiles(this.torrentHash),this.fileTree=[await De(this.cachedFiles)],this.fileSelection=this.cachedFiles.filter(s=>s.priority!==m.DO_NOT_DOWNLOAD).map(s=>s.index),await this.$nextTick(),this.loading=!1,this.apiLock=!1)}}});var nt=function(){var e=this,t=e._self._c;return e._self._setupProxy,t(f,{attrs:{flat:"",loading:e.loading}},[t(et,{attrs:{open:e.openedItems,items:e.fileTree,activatable:"",selectable:"","item-key":"id"},on:{"update:open":function(i){e.openedItems=i},input:e.updateSelection},scopedSlots:e._u([{key:"prepend",fn:function({item:i,open:a}){return[i.type==="root"?t(h,[e._v(" "+e._s(e.mdiFileTree)+" ")]):e._e(),i.type==="folder"?t(h,[e._v(" "+e._s(a?e.mdiFolderOpen:e.mdiFolder)+" ")]):i.type==="file"?t(h,[e._v(" "+e._s(e._f("fileIcon")(i))+" ")]):e._e()]}},{key:"label",fn:function({item:i}){return[t("span",{staticClass:"item-name"},[e._v(e._s(i.type==="root"?e.$t("modals.detail.pageContent.rootNode"):i.name))])]}},{key:"append",fn:function({item:i}){return[i.type==="root"?t("div"):i.type==="folder"?t("div",[t("span",{staticClass:"ml-4"},[e._v(e._s(e._f("nodeContent")(i)))]),t(_,{staticClass:"accent white--text elevation-0 px-4 ml-2",attrs:{fab:"","x-small":""},on:{click:function(a){return e.renameNode(i)}}},[t(h,[e._v(e._s(e.mdiPencil))])],1)],1):t("div",[e.$vuetify.breakpoint.xsOnly?e._e():t("span",[e._v("["+e._s(e._f("formatData")(i.size,e.shouldUseBinaryData()))+"]")]),e.$vuetify.breakpoint.xsOnly?e._e():t("span",{staticClass:"ml-4"},[e._v(e._s(e._f("progress")(i.progress*100)))]),e.$vuetify.breakpoint.xsOnly?e._e():t("span",{staticClass:"ml-4"},[e._v("[ "+e._s(e.getNodePriority(i))+" ]")]),t(Ee,{attrs:{"open-on-hover":"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function({on:a}){return[t(_,e._g({staticClass:"accent white--text elevation-0 px-4 ml-2",attrs:{fab:"","x-small":""}},a),[t(h,[e._v(e._s(e.mdiTrendingUp))])],1)]}}],null,!0)},[t(Ue,e._l(e.filePriorityOptions,function(a){return t(I,{key:a.value,attrs:{link:""},on:{click:function(r){return e.setFilePrio(i,a.value)}}},[t(h,[e._v(e._s(a.icon))]),t(F,{staticClass:"caption"},[e._v(" "+e._s(a.name)+" ")])],1)}),1)],1),t(_,{staticClass:"accent white--text elevation-0 px-4 ml-2",attrs:{fab:"","x-small":""},on:{click:function(a){return e.renameNode(i)}}},[t(h,[e._v(e._s(e.mdiPencil))])],1)],1)]}}]),model:{value:e.fileSelection,callback:function(i){e.fileSelection=i},expression:"fileSelection"}})],1)},ot=[],lt=y(rt,nt,ot,!1,null,null,null,null);const he=lt.exports,dt=x({name:"DetailPeers",mixins:[k],props:{hash:String,isActive:Boolean},data:()=>({rid:0,peersDialog:!1,refreshTimer:"",peersObj:null,newPeers:"",selectedPeers:[],isWindows:Me}),computed:{...$(["shouldUseBinaryData","shouldUseBitSpeed"]),peers(){return V.map(this.peersObj,(s,e)=>V.merge({},s,{key:e}))},headers(){return[{text:this.$t("modals.detail.pagePeers.ip"),value:"ip"},{text:this.$t("modals.detail.pagePeers.connection"),value:"connection"},{text:this.$t("modals.detail.pagePeers.flags"),value:"flags"},{text:this.$t("modals.detail.pagePeers.client"),value:"client"},{text:this.$t("modals.detail.pagePeers.progress"),value:"progress"},{text:this.$t("modals.detail.pagePeers.downloadSpeed"),value:"dl_speed"},{text:this.$t("modals.detail.pagePeers.downloaded"),value:"downloaded"},{text:this.$t("modals.detail.pagePeers.upSpeed"),value:"up_speed"},{text:this.$t("modals.detail.pagePeers.uploaded"),value:"uploaded"},{text:this.$t("modals.detail.pagePeers.relevance"),value:"relevance"},{text:this.$t("modals.detail.pagePeers.files"),value:"files"}]}},watch:{isActive(s){s?this.refreshTimer=setInterval(()=>this.getTorrentPeers(),2e3):clearInterval(this.refreshTimer)}},created(){},beforeDestroy(){clearInterval(this.refreshTimer)},methods:{codeToFlag(s){return je(s)},async getTorrentPeers(){const s=await d.getTorrentPeers(this.hash,this.rid+1||void 0);this.rid=s.rid,this.peersObj=s.peers},async addPeers(){if(this.newPeers.length===0){this.peersDialog=!1;return}await d.addTorrentPeers([this.hash],this.newPeers.split(`
`)),this.newPeers="",this.peersDialog=!1},closeAddPeers(){this.newPeers="",this.peersDialog=!1},async banPeers(){this.selectedPeers.length!==0&&(await d.banPeers(this.selectedPeers),this.selectedPeers=[])}}});var ct=function(){var e=this,t=e._self._c;return e._self._setupProxy,t(f,{attrs:{flat:""}},[t(g,{staticClass:"pa-0"},[e.peers?t(ie,{attrs:{dense:"","show-select":"",headers:e.headers,items:e.peers,"items-per-page":-1,"item-key":"key","mobile-breakpoint":"0"},scopedSlots:e._u([{key:"body",fn:function({items:i}){return[t("tbody",e._l(i,function(a){return t("tr",{key:a.key},[t("td",[t(ae,{staticClass:"pa-0 ma-0",attrs:{value:a.key,"hide-details":"",color:"accent"},model:{value:e.selectedPeers,callback:function(r){e.selectedPeers=r},expression:"selectedPeers"}})],1),t("td",{staticClass:"ip"},[a.country_code?[e.isWindows?t("img",{staticClass:"country-flag",attrs:{title:a.country,alt:e.codeToFlag(a.country_code).char,src:e.codeToFlag(a.country_code).url}}):[e._v(" "+e._s(e.codeToFlag(a.country_code).char)+" ")]]:e._e(),e._v(" "+e._s(a.ip)+" "),t("span",{staticClass:"grey--text"},[e._v(":"+e._s(a.port))])],2),t("td",[e._v(e._s(a.connection))]),t("td",{attrs:{title:a.flags_desc}},[e._v(" "+e._s(a.flags)+" ")]),t("td",[e._v(e._s(a.client))]),t("td",[e._v(e._s(e._f("progress")(a.progress*100)))]),t("td",[e._v(e._s(e._f("formatSpeed")(a.dl_speed,e.shouldUseBitSpeed())))]),t("td",[e._v(e._s(e._f("formatData")(a.downloaded,e.shouldUseBinaryData())))]),t("td",[e._v(e._s(e._f("formatSpeed")(a.up_speed,e.shouldUseBitSpeed())))]),t("td",[e._v(e._s(e._f("formatData")(a.uploaded,e.shouldUseBinaryData())))]),t("td",[e._v(e._s(e._f("progress")(a.relevance*100)))]),t("td",[e._v(e._s(a.files))])])}),0)]}}],null,!1,2845536217),model:{value:e.selectedPeers,callback:function(i){e.selectedPeers=i},expression:"selectedPeers"}}):e._e()],1),t(S,{staticClass:"justify-center"},[t(_,{staticClass:"error white--text elevation-0 px-4 mx-2",on:{click:e.banPeers}},[e._v("Ban")]),t(re,{attrs:{"content-class":"rounded-form",persistent:"","max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:a}){return[t(_,e._g(e._b({staticClass:"accent white--text elevation-0 px-4 mx-2"},"v-btn",a,!1),i),[e._v("Add")])]}}]),model:{value:e.peersDialog,callback:function(i){e.peersDialog=i},expression:"peersDialog"}},[t(f,[t(L,{staticClass:"justify-center"},[t("h3",[e._v("Add Peers")])]),t(g,[t(ne,{attrs:{label:"Peers",rows:"1",required:"",autofocus:"","auto-grow":"",clearable:"",hint:"One link per line"},model:{value:e.newPeers,callback:function(i){e.newPeers=i},expression:"newPeers"}})],1),t(S,[t(Q),t(_,{attrs:{color:"red darken-1",text:""},on:{click:e.closeAddPeers}},[e._v("Cancel")]),t(_,{attrs:{color:"green darken-1",text:""},on:{click:e.addPeers}},[e._v("Add")])],1)],1)],1)],1)],1)},ht=[],_t=y(dt,ct,ht,!1,null,"404b5a13",null,null);const _e=_t.exports;const pt={name:"Trackers",filters:{formatTrackerStatus(s){return["Disabled","Not contacted","Working","Updating","Not working"][s]},formatTrackerNum(s){return s===-1?"N/A":s.toString()}},mixins:[k],props:{hash:String,isActive:Boolean},data:()=>({trackerDialog:!1,tempTrackers:[],newTrackers:"",selectedTrackers:[]}),computed:{trackers(){return this.tempTrackers.map(s=>({...s,isSelectable:s.tier>=0}))},headers(){return[{text:"#",value:"tier"},{text:this.$t("modals.detail.pageTrackers.url"),value:"url"},{text:this.$t("modals.detail.pageTrackers.status"),value:"status"},{text:this.$t("modals.detail.pageTrackers.peers"),value:"num_peers"},{text:this.$t("modals.detail.pageTrackers.seeds"),value:"num_seeds"},{text:this.$t("modals.detail.pageTrackers.leeches"),value:"num_leeches"},{text:this.$t("modals.detail.pageTrackers.downloaded"),value:"num_downloaded"},{text:this.$t("modals.detail.pageTrackers.message"),value:"msg"}]}},watch:{isActive(s){s&&this.getTorrentTrackers()}},created(){this.getTorrentTrackers()},methods:{async getTorrentTrackers(){this.tempTrackers=await d.getTorrentTrackers(this.hash)},async addTrackers(){if(!this.newTrackers.length)return this.trackerDialog=!1;await d.addTorrentTrackers(this.hash,this.newTrackers),this.newTrackers="",await this.getTorrentTrackers(),this.trackerDialog=!1},closeAddTrackers(){this.newTrackers="",this.trackerDialog=!1},async DeleteTrackers(){this.selectedTrackers.length&&(await d.removeTorrentTrackers(this.hash,this.selectedTrackers.map(s=>s.url)),this.selectedTrackers=[],await this.getTorrentTrackers())}}};var ut=function(){var e=this,t=e._self._c;return t(f,{attrs:{flat:""}},[t(g,{staticClass:"pa-0"},[e.trackers?t(ie,{attrs:{dense:"","show-select":"",headers:e.headers,items:e.trackers,"items-per-page":-1,"item-key":"url","mobile-breakpoint":"0"},scopedSlots:e._u([{key:"body",fn:function({items:i}){return[t("tbody",e._l(i,function(a){return t("tr",{key:a.url},[t("td",[a.isSelectable?t(ae,{staticClass:"pa-0 ma-0",attrs:{multiple:"",value:a,"hide-details":"",color:"accent"},model:{value:e.selectedTrackers,callback:function(r){e.selectedTrackers=r},expression:"selectedTrackers"}}):e._e()],1),t("td",[e._v(e._s(a.tier))]),t("td",[e._v(e._s(a.url))]),t("td",[e._v(e._s(e._f("formatTrackerStatus")(a.status)))]),t("td",[e._v(e._s(e._f("formatTrackerNum")(a.num_peers)))]),t("td",[e._v(e._s(e._f("formatTrackerNum")(a.num_seeds)))]),t("td",[e._v(e._s(e._f("formatTrackerNum")(a.num_leeches)))]),t("td",[e._v(e._s(e._f("formatTrackerNum")(a.num_downloaded)))]),t("td",[e._v(e._s(a.msg))])])}),0)]}}],null,!1,693697174),model:{value:e.selectedTrackers,callback:function(i){e.selectedTrackers=i},expression:"selectedTrackers"}}):e._e()],1),t(S,{staticClass:"justify-center"},[t(_,{staticClass:"error white--text elevation-0 px-4 mx-2",on:{click:e.DeleteTrackers}},[e._v("Delete")]),t(re,{attrs:{"content-class":"rounded-form",persistent:"","max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function({on:i,attrs:a}){return[t(_,e._g(e._b({staticClass:"accent white--text elevation-0 px-4 mx-2"},"v-btn",a,!1),i),[e._v("Add")])]}}]),model:{value:e.trackerDialog,callback:function(i){e.trackerDialog=i},expression:"trackerDialog"}},[t(f,[t(L,{staticClass:"justify-center"},[t("h3",[e._v("Add Trackers")])]),t(g,[t(ne,{attrs:{label:"Trackers",rows:"1",required:"",autofocus:"","auto-grow":"",clearable:"",hint:"One link per line"},model:{value:e.newTrackers,callback:function(i){e.newTrackers=i},expression:"newTrackers"}})],1),t(S,[t(Q),t(_,{attrs:{color:"red darken-1",text:""},on:{click:e.closeAddTrackers}},[e._v(" Cancel ")]),t(_,{attrs:{color:"green darken-1",text:""},on:{click:e.addTrackers}},[e._v(" Add ")])],1)],1)],1)],1)],1)},mt=[],vt=y(pt,ut,mt,!1,null,"43ac8eed",null,null);const pe=vt.exports,ft=x({name:"Info",mixins:[k,Y],props:{isActive:Boolean},data(){return{commonStyle:"caption",comment:"",createdBy:"",creationDate:"",isPrivateTorrent:!1,wastedSize:0}},async mounted(){await this.getTorrentProperties()},computed:{...W(["webuiSettings"]),seedingTime(){return this.torrent?.seeding_time?`(${this.$t("modals.detail.pageInfo.seededFor").toString().replace("$0",this.torrent.seeding_time)})`:""}},methods:{async getTorrentProperties(){const s=await d.getTorrentProperties(this.torrent?.hash);this.comment=s.comment,this.createdBy=s.created_by,this.creationDate=Z(s.creation_date*1e3).format(this.webuiSettings.dateFormat),this.isPrivateTorrent=s.is_private,this.wastedSize=s.total_wasted},stringContainsUrl(s){return ee(s)},splitString(s){return te(s)}}});var gt=function(){var e=this,t=e._self._c;return e._self._setupProxy,t(f,{attrs:{flat:""}},[t(Je,[t("tbody",[t("tr",{attrs:{id:"torrentTimeActive"}},[t("td",{class:e.commonStyle},[e._v(" "+e._s(e._f("titleCase")(e.$t("torrent.properties.time_active")))+" ")]),t("td",[e._v(" "+e._s(e.torrent.time_active)+" "),t("span",[e._v(e._s(e.seedingTime))])])]),t("tr",{attrs:{id:"torrentEta"}},[t("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.eta"))+" ")]),t("td",[e._v(" "+e._s(e.torrent.eta)+" ")])]),t("tr",{attrs:{id:"torrentLastActivity"}},[t("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("torrent.properties.last_activity"))+" ")]),t("td",[e._v(" "+e._s(e.torrent.last_activity)+" ")])]),t("tr",{attrs:{id:"torrentPeers"}},[t("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.peers"))+" ")]),t("td",[e._v(" "+e._s(e.torrent.num_leechs)),t("span",{class:e.commonStyle},[e._v("/"+e._s(e.torrent.available_peers))])])]),t("tr",{attrs:{id:"torrentSeeds"}},[t("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.seeds"))+" ")]),t("td",[e._v(" "+e._s(e.torrent.num_seeds)),t("span",{class:e.commonStyle},[e._v("/"+e._s(e.torrent.available_seeds))])])]),t("tr",{attrs:{id:"torrentAddedOn"}},[t("td",{class:e.commonStyle},[e._v(" "+e._s(e._f("titleCase")(e.$t("torrent.properties.added_on")))+" ")]),t("td",[e._v(" "+e._s(e.torrent.added_on)+" ")])]),t("tr",{attrs:{id:"torrentCreationDate"}},[t("td",{class:e.commonStyle},[e._v(" "+e._s(e._f("titleCase")(e.$t("modals.detail.pageInfo.creation_date")))+" ")]),t("td",[e._v(" "+e._s(e.creationDate)+" ")])]),e.torrent?.tracker?t("tr",{attrs:{id:"torrentTrackers"}},[t("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.trackers"))+" ")]),t("td",e._l(e.splitString(e.torrent.tracker),function(i){return t("span",{key:i},[e.stringContainsUrl(i)?t("a",{attrs:{target:"_blank",href:i}},[e._v(e._s(i))]):t("span",[e._v(e._s(i))])])}),0)]):e._e(),e.createdBy?t("tr",{attrs:{id:"torrentCreatedBy"}},[t("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.createdBy"))+" ")]),t("td",e._l(e.splitString(e.createdBy),function(i){return t("span",{key:i},[e.stringContainsUrl(i)?t("a",{attrs:{target:"_blank",href:i}},[e._v(e._s(i))]):t("span",[e._v(e._s(i))])])}),0)]):e._e(),t("tr",{attrs:{id:"torrentFLPiecePrio"}},[t("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.firstLastPiecePriority"))+" ")]),t("td",[e._v(" "+e._s(e.torrent.f_l_piece_prio)+" ")])]),t("tr",{attrs:{id:"torrentSeqDl"}},[t("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.sequentialDownload"))+" ")]),t("td",[e._v(" "+e._s(e.torrent.seq_dl)+" ")])]),t("tr",{attrs:{id:"torrentAutoTMM"}},[t("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.autoTMM"))+" ")]),t("td",[e._v(" "+e._s(e.torrent.auto_tmm)+" ")])]),t("tr",{attrs:{id:"torrentRatioLimit"}},[t("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.shareRatioLimit"))+" ")]),t("td",[e._v(" "+e._s(e._f("limitToValue")(e.torrent.ratio_limit))+" ")])]),t("tr",{attrs:{id:"torrentRatioTimeLimit"}},[t("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.shareTimeLimit"))+" ")]),t("td",[e._v(" "+e._s(e._f("limitToValue")(e.torrent.ratio_time_limit))+" ")])]),t("tr",{attrs:{id:"torrentDlLimit"}},[t("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.downloadLimit"))+" ")]),e.torrent?.dl_limit>0?t("td",[e._v(" "+e._s(e._f("formatSpeedValue")(e.torrent.dl_limit,e.shouldUseBitSpeed()))+" "),t("span",[e._v(e._s(e._f("formatSpeedUnit")(e.torrent.dl_limit,e.shouldUseBitSpeed())))])]):t("td",[e._v("∞")])]),t("tr",{attrs:{id:"torrentUpLimit"}},[t("td",{class:e.commonStyle},[e._v(" "+e._s(e.$t("modals.detail.pageInfo.uploadLimit"))+" ")]),e.torrent?.up_limit>0?t("td",[e._v(" "+e._s(e._f("formatSpeedValue")(e.torrent.up_limit,e.shouldUseBitSpeed()))+" "),t("span",[e._v(e._s(e._f("formatSpeedUnit")(e.torrent.up_limit,e.shouldUseBitSpeed())))])]):t("td",[e._v("∞")])]),t("tr",{attrs:{id:"torrentAvailability"}},[t("td",{class:e.commonStyle},[e._v(" "+e._s(e._f("titleCase")(e.$t("torrent.properties.availability")))+" ")]),t("td",[e._v(" "+e._s(e.torrent.availability)+" ")])]),t("tr",{attrs:{id:"torrentPrivate"}},[t("td",{class:e.commonStyle},[e._v(" "+e._s(e._f("titleCase")(e.$t("modals.detail.pageInfo.is_private")))+" ")]),t("td",[e._v(" "+e._s(e.isPrivateTorrent)+" ")])]),t("tr",{attrs:{id:"torrentWastedSize"}},[t("td",{class:e.commonStyle},[e._v(" "+e._s(e._f("titleCase")(e.$t("modals.detail.pageInfo.wasted_size")))+" ")]),t("td",[e._v(" "+e._s(e._f("formatData")(e.wastedSize,e.shouldUseBinaryData()))+" ")])])])])],1)},yt=[],Ct=y(ft,gt,yt,!1,null,"7459d849",null,null);const ue=Ct.exports,Tt=x({name:"Overflow",mixins:[G,k,Y],props:{isActive:Boolean},data(){return{commonStyle:"caption",comment:"",createdBy:"",creationDate:"",downloadSpeedAvg:0,files:[],isPrivateTorrent:!1,selectedFileCount:0,torrentFileCount:0,torrentFileName:"",torrentPieceSize:0,torrentPieceOwned:0,torrentPieceCount:0,uploadSpeedAvg:0,mdiArrowUp:q,mdiArrowDown:X,mdiCheck:Re,mdiClose:se,mdiPencil:J,TorrentState:z}},async mounted(){await this.getTorrentProperties(),await this.updateSelectedFiles(),this.shouldRenderPieceStates&&await this.renderTorrentPieceStates()},computed:{...W(["webuiSettings"]),pieceSize(){return`${parseInt(Ve(this.torrentPieceSize,!0))} ${ze(this.torrentPieceSize,!0)}`},isFetchingMetadata(){return this.torrent?.state===z.METADATA},shouldRenderPieceStates(){return!this.isFetchingMetadata&&this.torrentPieceCount>0&&this.torrentPieceCount<this.webuiSettings.torrentPieceCountRenderThreshold}},watch:{async torrent(){this.isActive&&(await this.getTorrentProperties(),await this.updateSelectedFiles(),this.shouldRenderPieceStates&&await this.renderTorrentPieceStates())}},methods:{getDomainBody:Ke,async getTorrentProperties(){const s=await d.getTorrentProperties(this.torrent?.hash);this.comment=s.comment,this.createdBy=s.created_by,this.creationDate=Z(s.creation_date*1e3).format(this.webuiSettings.dateFormat),this.downloadSpeedAvg=s.dl_speed_avg,this.isPrivateTorrent=s.is_private,this.torrentPieceSize=s.piece_size,this.torrentPieceOwned=s.pieces_have,this.torrentPieceCount=s.pieces_num,this.uploadSpeedAvg=s.up_speed_avg},async renderTorrentPieceStates(){const s=document.querySelector("canvas#pieceStates");if(s===null)return;const e=await d.getTorrentPieceStates(this.torrent?.hash);s.width=e.length||-1;const t=s.getContext("2d");t.clearRect(0,0,s.width,s.height);let i="",a=1;for(let r=0;r<e.length;++r){const c=e[r];let l="";if(c===1)l=this.$vuetify.theme.currentTheme["torrent-downloading"];else if(c===2)l=this.$vuetify.theme.currentTheme["torrent-done"];else{const p=this.files.filter(u=>u.priority!==0).map(u=>u.piece_range);for(const[u,O]of p)if(r>u&&r<O){l=this.$vuetify.theme.currentTheme["torrent-paused"];break}}if(l===i){++a;continue}i!==""&&(t.fillStyle=i,t.fillRect(r-a,0,a,s.height)),a=1,i=l}i!==""&&(t.fillStyle=i,t.fillRect(e.length-a,0,a,s.height))},async updateSelectedFiles(){this.files=await d.getTorrentFiles(this.torrent?.hash);const s=this.files.filter(e=>e.priority!=m.DO_NOT_DOWNLOAD);this.selectedFileCount=s.length,this.torrentFileCount=this.files.length,this.selectedFileCount===1&&(this.torrentFileName=s[0].name)},stringContainsUrl(s){return ee(s)},splitString(s){return te(s)},async copyHash(){try{await navigator.clipboard.writeText(this.torrent?.hash),this.$toast.success(this.$t("toast.copySuccess").toString())}catch{this.$toast.error(this.$t("toast.copyNotSupported").toString())}},async changeLocation(){this.createModal("ChangeLocationModal",{hashes:[this.torrent?.hash]})},async renameTorrentFile(){this.createModal("RenameTorrentFileModal",{hash:this.torrent?.hash,isFolder:!1,oldName:this.torrentFileName})}}});var bt=function(){var e=this,t=e._self._c;return e._self._setupProxy,t(We,[t(v,[t(o,{attrs:{cols:"12",md:"6"}},[t(f,{attrs:{flat:""}},[t(L,{staticClass:"overflow-wrap"},[e._v(e._s(e.torrent.name))]),t(He,[e._l(e.splitString(e.comment),function(i){return t("div",{key:i},[e.stringContainsUrl(i)?t("a",{attrs:{target:"_blank",href:i}},[e._v(e._s(i))]):t("span",[e._v(e._s(i))])])}),e._v(" "+e._s(e.torrent.hash)+" "),t(_,{attrs:{rounded:""},on:{click:e.copyHash}},[e._v(e._s(e.$t("rightClick.copy")))])],2),t(g,[t(v,[t(o,{attrs:{cols:"4",md:"3"}},[e.isFetchingMetadata?t(D,{attrs:{indeterminate:"",size:100,color:"torrent-metadata"}},[e._v(" "+e._s(e.$t("modals.detail.pageOverview.fetchingMetadata"))+" ")]):e.torrent?.progress===100?t(D,{attrs:{size:100,width:15,value:100,color:"torrent-seeding"}},[t(h,{attrs:{color:"torrent-seeding"}},[e._v(e._s(e.mdiCheck))])],1):t(D,{attrs:{rotate:-90,size:100,width:15,value:e.torrent?.progress??0,color:"accent"}},[e._v(" "+e._s(e._f("progress")(e.torrent.progress??0))+" ")])],1),t(o,{staticClass:"d-flex align-center justify-center flex-column",attrs:{cols:"8",md:"9"}},[e.isFetchingMetadata?t("div",[t("span",[e._v(" "+e._s(e.$t("modals.detail.pageOverview.waitingForMetadata"))+" ")])]):e.shouldRenderPieceStates?t("div",[t("canvas",{attrs:{id:"pieceStates",width:"0",height:"1"}})]):e._e(),!e.isFetchingMetadata&&!e.shouldRenderPieceStates?t("div",[t("span",[e._v(e._s(e.$t("modals.detail.pageOverview.canvasRefreshDisabled")))])]):e._e(),e.torrentPieceCount!==-1?t("div",[t("span",[e._v(e._s(e.torrentPieceOwned)+" / "+e._s(e.torrentPieceCount)+" ("+e._s(e.pieceSize)+")")])]):e._e(),t("div",[t(h,[e._v(e._s(e.mdiArrowDown))]),e._v(" "+e._s(e._f("formatSpeed")(e.torrent?.dlspeed,e.shouldUseBitSpeed()))+" "),t(h,[e._v(e._s(e.mdiArrowUp))]),e._v(" "+e._s(e._f("formatSpeed")(e.torrent?.upspeed,e.shouldUseBitSpeed()))+" ")],1)])],1),t(v,[t(o,{attrs:{cols:"6"}},[t("div",[e._v(e._s(e.$t("torrent.properties.save_path"))+":")]),t("div",[e._v(e._s(e.torrent.savePath))]),t(_,{attrs:{fab:"","x-small":"",color:"accent"},on:{click:e.changeLocation}},[t(h,[e._v(e._s(e.mdiPencil))])],1)],1),t(o,{attrs:{cols:"6"}},[t("div",[e._v(e._s(e.$t("modals.detail.pageOverview.fileCount"))+":")]),t("div",[e._v(e._s(e.selectedFileCount)+" / "+e._s(e.torrentFileCount))]),e.selectedFileCount===1?t("div",[e._v(e._s(e.torrentFileName))]):e._e(),e.selectedFileCount===1?t(_,{attrs:{fab:"","x-small":"",color:"accent"},on:{click:e.renameTorrentFile}},[t(h,[e._v(e._s(e.mdiPencil))])],1):e._e()],1)],1)],1)],1)],1),t(o,{attrs:{cols:"12",md:"6"}},[t(f,{attrs:{flat:""}},[t(g,[t(v,[t(o,{attrs:{cols:"6"}},[t("div",[e._v(e._s(e.$t("torrent.properties.status"))+":")]),t(w,{staticClass:"white--text caption",class:e.torrentStateClass,attrs:{small:""}},[e._v(e._s(e.torrent.state))])],1),t(o,{attrs:{cols:"6"}},[t("div",[e._v(e._s(e.$t("torrent.properties.category"))+":")]),t(w,{staticClass:"upload white--text caption",attrs:{small:""}},[e._v(" "+e._s(e.torrent.category.length?e.torrent.category:e.$t("navbar.filters.uncategorized"))+" ")])],1)],1),t(v,[t(o,{attrs:{cols:"6"}},[t("div",[e._v(e._s(e.$t("torrent.properties.tracker"))+":")]),t(w,{staticClass:"moving white--text caption",attrs:{small:""}},[e._v(e._s(this.torrent?.tracker?e.getDomainBody(this.torrent?.tracker):e.$t("navbar.filters.untracked")))])],1),t(o,{staticClass:"d-flex flex-wrap chipgap",attrs:{cols:"6"}},[t("div",[e._v(e._s(e.$t("torrent.properties.tags"))+":")]),e._l(e.torrent.tags,function(i){return e.torrent?.tags?t(w,{key:i,staticClass:"tags white--text caption",attrs:{small:""}},[e._v(" "+e._s(i)+" ")]):e._e()}),!e.torrent?.tags||e.torrent.tags.length===0?t(w,{staticClass:"tags white--text caption",attrs:{small:""}},[e._v(" "+e._s(e.$t("navbar.filters.untagged"))+" ")]):e._e()],2)],1),t(v,[t(o,{attrs:{cols:"6"}},[t("div",[e._v(e._s(e.$t("modals.detail.pageOverview.selectedFileSize"))+":")]),t("div",[e._v(e._s(e._f("formatData")(e.torrent?.size,e.shouldUseBinaryData()))+" / "+e._s(e._f("formatData")(e.torrent?.total_size,e.shouldUseBinaryData())))])]),t(o,{attrs:{cols:"6"}},[t("div",[e._v(e._s(e.$t("ratio"))+":")]),t("div",[e._v(e._s(e.torrent?.ratio))])])],1),t(v,[t(o,{attrs:{cols:"6"}},[t("div",[e._v(e._s(e.$t("downloaded"))+":")]),t("div",[e._v(e._s(e._f("formatData")(e.torrent?.downloaded,e.shouldUseBinaryData())))])]),t(o,{attrs:{cols:"6"}},[t("div",[e._v(e._s(e.$t("uploaded"))+":")]),t("div",[e._v(e._s(e._f("formatData")(e.torrent?.uploaded,e.shouldUseBinaryData())))])])],1),t(v,[t(o,{attrs:{cols:"6"}},[t("div",[e._v(e._s(e.$t("modals.detail.pageOverview.dlSpeedAverage"))+":")]),t("div",[e._v(e._s(e._f("formatSpeed")(e.downloadSpeedAvg,e.shouldUseBitSpeed())))])]),t(o,{attrs:{cols:"6"}},[t("div",[e._v(e._s(e.$t("modals.detail.pageOverview.upSpeedAverage"))+":")]),t("div",[e._v(e._s(e._f("formatSpeed")(e.uploadSpeedAvg,e.shouldUseBitSpeed())))])])],1)],1)],1)],1)],1)],1)},wt=[],St=y(Tt,bt,wt,!1,null,"3bcd9265",null,null);const me=St.exports,xt=x({name:"TorrentDetail",components:{Overview:me,Content:he,Info:ue,DetailPeers:_e,Trackers:pe,TorrentTagsAndCategories:ce},data(){return{tab:null,mdiClose:se}},computed:{...$(["getTorrent","getModals"]),torrent(){return this.getTorrent(this.hash)},hash(){return this.$route.params.hash}},mounted(){document.addEventListener("keydown",this.handleKeyboardShortcut)},beforeDestroy(){document.removeEventListener("keydown",this.handleKeyboardShortcut)},methods:{close(){this.$router.back()},handleKeyboardShortcut(s){s.key==="Escape"&&this.getModals().length===0&&this.close()}}});var kt=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"px-1 px-sm-5 background noselect"},[t(v,{staticClass:"grey--text",attrs:{"no-gutters":"",align:"center",justify:"center"}},[t(o,[t("h1",{staticClass:"subtitle-1 ml-2",staticStyle:{"font-size":"1.6em !important"}},[e._v(" "+e._s(e._f("titleCase")(e.$t("modals.detail.title")))+" ")])]),t(o,{staticClass:"align-center justify-center"},[t(S,{staticClass:"justify-end"},[t(_,{attrs:{small:"",elevation:"0"},on:{click:e.close}},[t(h,[e._v(e._s(e.mdiClose))])],1)],1)],1)],1),t(v,{staticClass:"ma-0 pa-0"},[t(Ge,{attrs:{"align-with-title":"","show-arrows":"","background-color":"primary"},model:{value:e.tab,callback:function(i){e.tab=i},expression:"tab"}},[t(qe,{attrs:{color:"white"}}),t(C,{staticClass:"white--text",attrs:{href:"#overview"}},[t("h4",[e._v(e._s(e.$t("modals.detail.tabTitleOverview")))])]),t(C,{staticClass:"white--text",attrs:{href:"#info"}},[t("h4",[e._v(e._s(e.$t("modals.detail.tabTitleInfo")))])]),t(C,{staticClass:"white--text",attrs:{href:"#trackers"}},[t("h4",[e._v(e._s(e.$t("modals.detail.tabTitleTrackers")))])]),t(C,{staticClass:"white--text",attrs:{href:"#peers"}},[t("h4",[e._v(e._s(e.$t("modals.detail.tabTitlePeers")))])]),t(C,{staticClass:"white--text",attrs:{href:"#content"}},[t("h4",[e._v(e._s(e.$t("modals.detail.tabTitleContent")))])]),t(C,{staticClass:"white--text",attrs:{href:"#tagsAndCategories"}},[t("h4",[e._v(e._s(e.$t("modals.detail.tabTitleTagsCategories")))])])],1),t(g,{staticClass:"pa-0"},[t(Xe,{attrs:{touchless:""},model:{value:e.tab,callback:function(i){e.tab=i},expression:"tab"}},[t(T,{attrs:{eager:"",value:"overview"}},[e.torrent?t(me,{attrs:{"is-active":e.tab==="overview",torrent:e.torrent}}):e._e()],1),t(T,{attrs:{eager:"",value:"info"}},[e.torrent?t(ue,{attrs:{"is-active":e.tab==="info",torrent:e.torrent}}):e._e()],1),t(T,{attrs:{eager:"",value:"trackers"}},[t(pe,{attrs:{"is-active":e.tab==="trackers",hash:e.hash}})],1),t(T,{attrs:{eager:"",value:"peers"}},[t(_e,{attrs:{"is-active":e.tab==="peers",hash:e.hash}})],1),t(T,{attrs:{eager:"",value:"content"}},[t(he,{attrs:{"is-active":e.tab==="content",hash:e.hash}})],1),t(T,{attrs:{eager:"",value:"tagsAndCategories"}},[e.torrent?t(ce,{attrs:{torrent:e.torrent,"is-active":e.tab==="tagsAndCategories",hash:e.hash}}):e._e()],1)],1)],1)],1)],1)},$t=[],Ot=y(xt,kt,$t,!1,null,null,null,null);const Mt=Ot.exports;export{Mt as default};

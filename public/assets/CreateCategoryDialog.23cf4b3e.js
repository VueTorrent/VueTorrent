import{m as r,V as l}from"./vue.7fbf5199.js";import{a4 as c,a5 as _,a6 as m,Q as o,s as d,t as g,V as u,v as p,z as y,a as n,a3 as C,E as h,x as i}from"./index.0ee980eb.js";import{M as v}from"./Modal.1c0dbfc6.js";import{_ as f}from"./VDialog.844ab607.js";import{_ as x}from"./VForm.c9a1c1ca.js";import{_ as $}from"./VContainer.10ecf272.js";const b={name:"CreateNewCategoryDialog",mixins:[v],props:{initialCategory:Object},data:()=>({category:{name:"",savePath:""},mdiCancel:c,mdiTagPlus:_,mdiPencil:m,valid:!1}),computed:{...r(["getSelectedCategory"]),hasInitialCategory(){return!!(this.initialCategory&&this.initialCategory.name)},nameRules(){return[s=>!!s||this.$t("modals.newCategory.tipOnNoName")]},PathRules(){return[s=>!!s||this.$t("modals.newCategory.tipOnNoPath")]}},created(){this.$store.commit("FETCH_CATEGORIES"),this.hasInitialCategory&&(this.category=this.initialCategory)},methods:{async create(){await o.createCategory(this.category),this.cancel()},cancel(){this.$store.commit("FETCH_CATEGORIES"),this.dialog=!1},async edit(){await o.editCategory(this.category),l.$toast.success(this.$t("toast.categorySaved")),this.cancel()}}};var w=function(){var a=this,t=a._self._c;return t(f,{attrs:{"content-class":"rounded-form","max-width":"300px"},model:{value:a.dialog,callback:function(e){a.dialog=e},expression:"dialog"}},[t(g,[t(u,{staticClass:"pa-0"},[t(p,{staticClass:"ma-4 primarytext--text"},[t("h3",[a._v(a._s(a.hasInitialCategory?a.$t("edit"):a.$t("createNew"))+" "+a._s(a.$t("category")))])])],1),t(y,[t(x,{ref:"categoryForm",staticClass:"px-6 mt-3",model:{value:a.valid,callback:function(e){a.valid=e},expression:"valid"}},[t($,[t(n,{attrs:{rules:a.nameRules,label:a.$t("modals.newCategory.categoryName"),required:"",disabled:a.hasInitialCategory},model:{value:a.category.name,callback:function(e){a.$set(a.category,"name",e)},expression:"category.name"}}),t(n,{attrs:{rules:a.PathRules,label:a.$t("path"),required:""},model:{value:a.category.savePath,callback:function(e){a.$set(a.category,"savePath",e)},expression:"category.savePath"}})],1)],1)],1),t(C),t(h,{staticClass:"justify-end"},[a.hasInitialCategory?t(i,{staticClass:"accent white--text elevation-0 px-4",attrs:{disabled:!a.valid},on:{click:a.edit}},[a._v(" "+a._s(a.$t("edit"))+" ")]):t(i,{staticClass:"accent white--text elevation-0 px-4",attrs:{disabled:!a.valid},on:{click:a.create}},[a._v(" "+a._s(a.$t("create"))+" ")]),t(i,{staticClass:"error white--text elevation-0 px-4",on:{click:a.cancel}},[a._v(" "+a._s(a.$t("cancel"))+" ")])],1)],1)],1)},P=[],T=d(b,w,P,!1,null,null,null,null);const O=T.exports;export{O as default};

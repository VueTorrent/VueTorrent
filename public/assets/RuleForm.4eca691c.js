import{m as r,V as c}from"./vue.10642814.js";import{M as _,a5 as m,a6 as d,a7 as p,Q as n,s as f,t as h,V as v,v as R,z as C,a as i,a8 as x,a0 as g,E as F,x as s}from"./index.fa8acca6.js";import{_ as $}from"./VDialog.7313b4e5.js";import{_ as b}from"./VForm.ae3b12ca.js";import{_ as l}from"./VContainer.53c312b6.js";import{_ as w}from"./VCheckbox.1bed1985.js";import"./index.0c9e32aa.js";const k={name:"RuleForm",mixins:[_],props:{initialRule:Object},data:()=>({rule:{name:"",def:{mustContain:"",affectedFeeds:[],enabled:!0}},mdiCancel:m,mdiTagPlus:d,mdiPencil:p}),computed:{...r(["getSelectedRule","getFeeds"]),availableFeeds(){return this.getFeeds()},hasInitialRule(){return!!(this.initialRule&&this.initialRule.name)}},created(){this.$store.commit("FETCH_RULES"),this.hasInitialRule&&(this.rule=this.initialRule)},methods:{create(){n.createRule(this.rule.name,this.rule.def),this.cancel()},cancel(){this.$store.commit("FETCH_RULES"),this.dialog=!1},edit(){n.editRule(this.rule),c.$toast.success(this.$t("toast.ruleSaved")),this.cancel()}}};var T=function(){var e=this,t=e._self._c;return t($,{attrs:{"max-width":"350px"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t(h,{attrs:{flat:""}},[t(v,{staticClass:"pa-0"},[t(R,{staticClass:"ma-4 primarytext--text"},[t("h3",[e._v(e._s(e.hasInitialRule?e.$t("modals.newRule.titleEdit"):e.$t("modals.newRule.titleCreate")))])])],1),t(C,{staticClass:"pa-2"},[t(b,{ref:"ruleForm"},[t(l,[t(i,{attrs:{label:e.$t("modals.newRule.name"),required:""},model:{value:e.rule.name,callback:function(a){e.$set(e.rule,"name",a)},expression:"rule.name"}})],1),t(l,[t(i,{attrs:{label:e.$t("modals.newRule.def.mustContain"),required:""},model:{value:e.rule.def.mustContain,callback:function(a){e.$set(e.rule.def,"mustContain",a)},expression:"rule.def.mustContain"}})],1),t(l,[t(x,{staticClass:"pa-0"},[e._v(" "+e._s(e.$t("modals.newRule.def.affectedFeeds"))+" ")]),e._l(e.availableFeeds,function(a,o){return[t(w,{key:o,attrs:{"hide-details":"",label:a.name,value:a.url},model:{value:e.rule.def.affectedFeeds,callback:function(u){e.$set(e.rule.def,"affectedFeeds",u)},expression:"rule.def.affectedFeeds"}})]})],2)],1)],1),t(g),t(F,{staticClass:"justify-end"},[e.hasInitialRule?t(s,{staticClass:"accent white--text elevation-0 px-4",on:{click:e.edit}},[e._v(" "+e._s(e.$t("edit"))+" ")]):t(s,{staticClass:"accent white--text elevation-0 px-4",on:{click:e.create}},[e._v(" "+e._s(e.$t("create"))+" ")]),t(s,{staticClass:"error white--text elevation-0 px-4",on:{click:e.cancel}},[e._v(" "+e._s(e.$t("cancel"))+" ")])],1)],1)],1)},V=[],E=f(k,T,V,!1,null,null,null,null);const M=E.exports;export{M as default};

(function(t){function e(e){for(var a,o,i=e[0],l=e[1],c=e[2],u=0,p=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,i=1;i<s.length;i++){var l=s[i];0!==r[l]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},r={app:0},n=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var d=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"06af":function(t,e,s){var a={"./AddModal.vue":"6f30","./SettingsModal.vue":"e1ce"};function r(t){var e=n(t);return s(e)}function n(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=n,t.exports=r,r.id="06af"},1287:function(t,e,s){},"1a12":function(t,e,s){},"46f7":function(t,e,s){"use strict";var a=s("1287"),r=s.n(a);r.a},"4dc9":function(t,e,s){"use strict";var a=s("2f62");e["a"]={computed:{...Object(a["b"])(["getModalState"]),dialog:{get(){return this.getModalState(this.$options.name)},set(){this.$store.commit("TOGGLE_MODAL",this.$options.name)}}}}},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{style:{backgroundColor:t.background}},[s("AddModal"),s("SettingsModal"),t.isAuthenticated?s("Navbar"):t._e(),s("v-content",{attrs:{"fill-height":"","fill-width":""}},[s("router-view")],1)],1)},n=[],o=s("2f62"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",[s("v-app-bar",{attrs:{flat:"",color:"background"}},[s("v-btn",{staticClass:"grey--text text--lighten-1",attrs:{text:"",fab:""},on:{click:function(e){t.drawer=!t.drawer}}},[s("v-icon",[t._v("menu")])],1),s("v-toolbar-title",{class:["grey--text",{"subheading ml-0":t.$vuetify.breakpoint.smAndDown}]},[s("span",{staticClass:"font-weight-light"},[t._v("Vue")]),s("span",[t._v("Torrent")])]),s("v-spacer"),s("v-btn",{staticClass:"mr-0 ml-0",attrs:{text:"",small:"",fab:"",color:"grey"},on:{click:function(e){return t.toggleModal("addmodal")}}},[s("v-icon",{attrs:{color:"grey"}},[t._v("add")])],1),s("v-btn",{staticClass:"mr-0 ml-0",attrs:{small:"",fab:"",text:""},on:{click:t.removeTorrents}},[s("v-icon",{attrs:{color:"grey"}},[t._v("remove")])],1),s("v-btn",{staticClass:"mr-0 ml-0",attrs:{small:"",fab:"",text:""},on:{click:t.resumeTorrents}},[s("v-icon",{attrs:{color:"grey"}},[t._v("play_arrow")])],1),s("v-btn",{staticClass:"mr-0 ml-0",attrs:{small:"",fab:"",text:""},on:{click:t.pauseTorrents}},[s("v-icon",{attrs:{color:"grey"}},[t._v("pause")])],1),s("v-btn",{staticClass:"mr-0 ml-0",attrs:{small:"",fab:"",text:""},on:{click:function(e){return t.toggleModal("settingsmodal")}}},[s("v-icon",{attrs:{color:"grey"}},[t._v("settings")])],1)],1),s("v-navigation-drawer",{staticClass:"primary",staticStyle:{position:"fixed"},attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[t.status?s("v-flex",{staticClass:"mt-3"},[s("div",{staticClass:"secondary_lighter--text text-uppercase caption ml-4"},[t._v(" current speed ")]),s("v-card",{staticClass:"mr-2 ml-2",attrs:{color:"secondary",flat:""}},[s("v-layout",{staticClass:"pa-3 project nav_download mx-auto",attrs:{row:"",wrap:""}},[s("v-icon",{attrs:{color:"download"}},[t._v("keyboard_arrow_down")]),s("span",{staticClass:"download--text title"},[t._v(" "+t._s(t.status.dlspeed.substring(0,t.status.dlspeed.indexOf(" ")))+" "),s("span",{staticClass:"font-weight-light caption"},[t._v(t._s(t.status.dlspeed.substring(t.status.dlspeed.indexOf(" "))))])]),s("v-icon",{staticClass:"pl-5",attrs:{color:"upload"}},[t._v("keyboard_arrow_up")]),s("span",{staticClass:"upload--text title"},[t._v(" "+t._s(t.status.upspeed.substring(0,t.status.upspeed.indexOf(" ")))+" "),s("span",{staticClass:"font-weight-light caption"},[t._v(t._s(t.status.upspeed.substring(t.status.upspeed.indexOf(" "))))])])],1)],1),s("div",{staticClass:"mt-4"},[s("apexcharts",{ref:"chart",attrs:{type:"line",options:t.chartOptions,series:t.series}})],1),s("div",{staticClass:"mt-4"}),s("div",{staticClass:"secondary_lighter--text text-uppercase caption ml-4"},[t._v(" session status ")]),s("v-card",{staticClass:"mr-2 ml-2",attrs:{flat:"",color:"secondary"}},[s("v-layout",{staticClass:"pa-3 project nav_download mx-auto",attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{md6:""}},[s("div",{staticClass:"download--text",staticStyle:{"font-size":"0.95em","margin-top":"6px"}},[t._v(" Downloaded ")])]),s("v-flex",{staticClass:"ml-4",attrs:{md5:""}},[s("span",{staticClass:"download--text title"},[t._v(" "+t._s(t.status.downloaded.substring(0,t.status.downloaded.indexOf(" ")))+" "),s("span",{staticClass:"font-weight-light caption"},[t._v(t._s(t.status.downloaded.substring(t.status.downloaded.indexOf(" "))))])])])],1)],1),s("v-card",{staticClass:"ml-2 mr-2 mt-1",attrs:{flat:"",color:"secondary"}},[s("v-layout",{staticClass:"pa-3 project nav_upload mx-auto",attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{md6:""}},[s("div",{staticClass:"upload--text",staticStyle:{"font-size":"0.95em","margin-top":"6px"}},[t._v(" Uploaded ")])]),s("v-flex",{staticClass:"ml-4",attrs:{md5:""}},[s("span",{staticClass:"upload--text title"},[t._v(" "+t._s(t.status.uploaded.substring(0,t.status.uploaded.indexOf(" ")))+" "),s("span",{staticClass:"font-weight-light caption"},[t._v(t._s(t.status.uploaded.substring(t.status.uploaded.indexOf(" "))))])])])],1)],1),s("v-card",{staticClass:"ml-2 mr-2",staticStyle:{"margin-top":"30px"},attrs:{flat:"",color:"secondary"}},[s("v-layout",{staticClass:"pa-3 project nav_upload mx-auto",attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{md6:""}},[s("div",{staticClass:"upload--text",staticStyle:{"font-size":"0.95em","margin-top":"6px"}},[t._v(" Free Space ")])]),s("v-flex",{staticClass:"ml-4",attrs:{md5:""}},[s("span",{staticClass:"upload--text title"},[t._v(" "+t._s(t.status.freeDiskSpace.substring(0,t.status.freeDiskSpace.indexOf(" ")))+" "),s("span",{staticClass:"font-weight-light caption"},[t._v(t._s(t.status.freeDiskSpace.substring(t.status.freeDiskSpace.indexOf(" "))))])])])],1)],1)],1):t._e(),s("v-container",[s("v-row",{staticStyle:{position:"fixed",bottom:"0px",right:"15px"},attrs:{justify:"space-between"}},[s("v-col",[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-list-item",t._g({attrs:{link:""},on:{click:t.logout}},a),[s("v-icon",{staticClass:"pr-2 white--text"},[t._v("exit_to_app")])],1)]}}])},[s("span",[t._v("Log out")])])],1),s("v-col",[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-list-item",t._g({attrs:{link:""},on:{click:t.toggleSpeed}},a),[s("v-icon",{staticClass:"pr-2 white--text",attrs:{color:t.altSpeed?"download":""}},[t._v("speed")])],1)]}}])},[s("span",[t._v("Alt speeds")])])],1),s("v-col",[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-list-item",t._g({attrs:{link:""},on:{click:t.toggleTheme}},a),["Light"===t.theme?s("v-icon",{staticClass:"pr-2 white--text"},[t._v("brightness_7")]):s("v-icon",{staticClass:"pr-2 white--text"},[t._v("brightness_2")])],1)]}}])},[s("span",[t._v(t._s(t.theme))])])],1)],1)],1)],1)],1)},l=[],c=s("1321"),d=s.n(c),u=s("81f2"),p={components:{apexcharts:d.a},data(){return{drawer:!1,paused:!1,chartOptions:{chart:{sparkline:{enabled:!0},animations:{enabled:!1,dynamicAnimation:{speed:1e3}}},colors:["#00b3fa","#64CEAA"],stroke:{show:!0,curve:"smooth",lineCap:"round",width:4},fill:{type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.5,opacityFrom:.6,opacityTo:.5,stops:[0,50,100]}}},chartInterval:null}},methods:{...Object(o["c"])(["REFRESH_TORRENTS","CLEAR_INTERVALS"]),pauseTorrents(){u["a"].pauseTorrents(this.selected_torrents)},resumeTorrents(){u["a"].resumeTorrents(this.selected_torrents)},removeTorrents(){u["a"].deleteTorrents(this.selected_torrents,!1)},updateChart(){this.$refs.chart.updateSeries(this.series,!0)},toggleModal(t){this.$store.commit("TOGGLE_MODAL",t)},toggleTheme(){this.$store.commit("TOGGLE_THEME"),this.$vuetify.theme.dark=!this.$vuetify.theme.dark},logout(){this.$store.commit("LOGOUT"),this.$router.push("/login")},toggleSpeed(){u["a"].toggleSpeedLimitsMode()}},computed:{...Object(o["d"])(["status","selected_torrents"]),...Object(o["b"])(["getTheme","getStatus"]),theme(){return this.getTheme()?"Dark":"Light"},altSpeed(){return this.getStatus().altSpeed},series(){return[{name:"upload",type:"area",data:this.$store.state.upload_data},{name:"download",type:"area",data:this.$store.state.download_data}]}},created(){this.$vuetify.theme.dark=this.getTheme()}},h=p,m=(s("5dfc"),s("2877")),v=Object(m["a"])(h,i,l,!1,null,null,null),f=v.exports;async function _(){const t=await u["a"].login();return"Ok."===t}var g={components:{Navbar:f},name:"App",data(){return{}},methods:{async getAuth(){return await _()}},computed:{...Object(o["d"])(["rid","mainData","preferences"]),...Object(o["b"])(["getTheme"]),theme(){return this.getTheme()?"dark":"light"},background(){return this.$vuetify.theme.themes[this.theme].background},isAuthenticated(){return this.getAuth()}}},x=g,y=Object(m["a"])(x,r,n,!1,null,null,null),b=y.exports,w=s("9483");Object(w["a"])("service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var T=s("8c4f"),k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pl-5 pr-5",attrs:{color:"background"},on:{click:function(e){return e.target!==e.currentTarget?null:t.resetSelected(e)}}},[s("h1",{staticClass:"subtitle-1 grey--text",staticStyle:{"font-size":"1.1em !important"}},[t._v(" Dashboard ")]),s("v-container",{staticClass:"my-4 pt-5 pa-0",attrs:{color:"background"},on:{click:function(e){return e.target!==e.currentTarget?null:t.resetSelected(e)}}},[s("v-flex",{attrs:{xs12:"",sm6:"",md3:""},on:{click:function(e){return e.target!==e.currentTarget?null:t.resetSelected(e)}}},[s("v-text-field",{attrs:{flat:"",label:"type to sort...",height:"50",clearable:"",solo:"",hint:"eg `s size desc` + enter",color:"search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sortBy(e)}},model:{value:t.sort_input,callback:function(e){t.sort_input=e},expression:"sort_input"}})],1),0===t.torrents.length?s("div",{staticClass:"mt-5 text-xs-center"},[s("p",{staticClass:"grey--text"},[t._v("No active Torrents!")])]):s("div",t._l(t.torrents,(function(t){return s("div",{key:t.hash},[s("Torrent",{attrs:{torrent:t}})],1)})),0)],1),s("TorrentDetailModal")],1)},C=[],S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticClass:"pointer torrent",class:t.containsTorrent(t.torrent.hash)?"torrent_selected":"",attrs:{ripple:"",flat:""},on:{dblclick:function(e){return e.preventDefault(),t.showInfo(t.torrent.hash)}},nativeOn:{click:function(e){return t.selectTorrent(t.torrent.hash)}}},[s("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-layout",t._g({class:"pa-4 ml-0 project "+t.torrent.state,attrs:{row:"",wrap:""},on:{contextmenu:function(e){return e.preventDefault(),t.$refs.menu.open(e)}}},a),[s("v-flex",{attrs:{xs12:"",sm2:"",md3:""}},[s("div",{staticClass:"caption grey--text"},[t._v("Torrent title")]),s("div",{staticClass:"truncate"},[t._v(t._s(t.torrent.name))])]),s("v-flex",{staticClass:"mr-2",attrs:{xs6:"",sm1:"",md1:""}},[s("div",{staticClass:"caption grey--text"},[t._v("Size")]),s("div",[t._v(" "+t._s(t.torrent.size.substring(0,t.torrent.size.indexOf(" ")))+" "),s("span",{staticClass:"caption grey--text"},[t._v(t._s(t.torrent.size.substring(t.torrent.size.indexOf(" "))))])])]),s("v-flex",{staticClass:"mr-2",attrs:{xs5:"",sm1:"",md1:""}},[s("div",{staticClass:"caption grey--text"},[t._v("Done")]),s("div",[t._v(" "+t._s(t.torrent.dloaded.substring(0,t.torrent.dloaded.indexOf(" ")))+" "),s("span",{staticClass:"caption grey--text"},[t._v(t._s(t.torrent.dloaded.substring(t.torrent.dloaded.indexOf(" "))))])])]),s("v-flex",{staticClass:"mr-2",attrs:{xs6:"",sm1:"",md1:""}},[s("div",{staticClass:"caption grey--text"},[t._v("Download")]),s("div",[t._v(" "+t._s(t.torrent.dlspeed.substring(0,t.torrent.dlspeed.indexOf(" ")))+" "),s("span",{staticClass:"caption grey--text"},[t._v(t._s(t.torrent.dlspeed.substring(t.torrent.dlspeed.indexOf(" "))))])])]),s("v-flex",{staticClass:"mr-2",attrs:{xs5:"",sm1:"",md1:""}},[s("div",{staticClass:"caption grey--text"},[t._v("Upload")]),s("div",[t._v(" "+t._s(t.torrent.upspeed.substring(0,t.torrent.upspeed.indexOf(" ")))+" "),s("span",{staticClass:"caption grey--text"},[t._v(t._s(t.torrent.upspeed.substring(t.torrent.upspeed.indexOf(" "))))])])]),s("v-flex",{staticClass:"mr-2",attrs:{xs6:"",sm1:"",md1:""}},[s("div",{staticClass:"caption grey--text"},[t._v("ETA")]),s("div",[t._v(t._s(t.torrent.eta))])]),s("v-flex",{staticClass:"mr-2",attrs:{xs5:"",sm1:"",md1:""}},[s("div",{staticClass:"caption grey--text"},[t._v("Peers")]),s("div",[t._v(" "+t._s(t.torrent.num_leechs)+" "),s("span",{staticClass:"grey--text caption"},[t._v("/"+t._s(t.torrent.available_peers))])])]),s("v-flex",{staticClass:"mr-2",attrs:{xs5:"",sm1:"",md1:""}},[s("div",{staticClass:"caption grey--text"},[t._v("Seeds")]),s("div",[t._v(" "+t._s(t.torrent.num_seeds)+" "),s("span",{staticClass:"grey--text caption"},[t._v("/"+t._s(t.torrent.available_seeds))])])]),s("v-flex",{attrs:{xs4:"",sm12:"",md1:""}},[s("div",{staticClass:"right"},[s("v-chip",{class:t.torrent.state+" white--text my-2 caption",attrs:{small:""}},[t._v(t._s(t.torrent.state))])],1)]),s("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[s("v-progress-linear",{attrs:{height:"3",rounded:"",color:"cyan darken-1","background-color":"cyan lighten-3",value:t.torrent.progress}})],1)],1)]}}])},[s("span",[t._v(t._s(t.torrent.name))])]),s("v-divider"),s("vue-context",{ref:"menu"},[s("TorrentRightClickMenu",{attrs:{hash:t.torrent.hash}})],1)],1)},O=[],E=s("899b"),L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticStyle:{position:"absolute",top:"50%",left:"50%","z-index":"10",overflow:"show"},attrs:{elevation:"20",width:"200",dark:t.dark}},[s("v-list",{attrs:{dense:"",rounded:""}},[s("v-list-item",{attrs:{link:""},on:{click:t.showInfo}},[s("v-icon",[t._v("info")]),s("v-list-item-title",{staticClass:"ml-2",staticStyle:{"font-size":"15px"}},[t._v("Show Info")])],1),s("v-divider"),s("v-list-item",{attrs:{link:""},on:{click:t.resume}},[s("v-icon",[t._v("play_arrow")]),s("v-list-item-title",{staticClass:"ml-2",staticStyle:{"font-size":"15px"}},[t._v("Resume")])],1),s("v-list-item",{attrs:{link:""},on:{click:t.pause}},[s("v-icon",[t._v("pause")]),s("v-list-item-title",{staticClass:"ml-2",staticStyle:{"font-size":"15px"}},[t._v("Pause")])],1),s("v-divider"),s("v-list-item",{attrs:{link:""},on:{click:t.reannounce}},[s("v-icon",[t._v("record_voice_over")]),s("v-list-item-title",{staticClass:"ml-2",staticStyle:{"font-size":"15px"}},[t._v("reannounce")])],1),s("v-divider"),s("v-list-item",{attrs:{link:""},on:{click:t.deleteWithoutFiles}},[s("v-icon",{attrs:{color:"red"}},[t._v("delete")]),s("v-list-item-title",{staticClass:"ml-2",staticStyle:{"font-size":"15px",color:"red"}},[t._v("Delete")])],1),s("v-list-item",{attrs:{link:""},on:{click:t.deleteWithFiles}},[s("v-icon",{attrs:{color:"red"}},[t._v("delete")]),s("v-list-item-title",{staticClass:"ml-2",staticStyle:{"font-size":"15px",color:"red"}},[t._v("Delete with files")])],1)],1)],1)},D=[],j={name:"TorrentRightClickMenu",props:{hash:String},methods:{resume(){u["a"].resumeTorrents([this.hash])},pause(){u["a"].pauseTorrents([this.hash])},reannounce(){u["a"].reannounceTorrents([this.hash])},deleteWithoutFiles(){u["a"].deleteTorrents([this.hash],!1)},deleteWithFiles(){u["a"].deleteTorrents([this.hash],!0)},showInfo(){this.$store.commit("TOGGLE_MODAL","TorrentDetailModal"),this.$store.commit("SET_SELECTED_TORRENT_DETAIL",this.hash)}},computed:{dark(){return this.$vuetify.dark}}},P=j,$=Object(m["a"])(P,L,D,!1,null,null,null),R=$.exports,M={name:"Torrent",components:{VueContext:E["a"],TorrentRightClickMenu:R},props:{torrent:Object},methods:{selectTorrent(t){this.containsTorrent(t)?this.$store.commit("SET_SELECTED",{type:"remove",hash:t}):this.$store.commit("SET_SELECTED",{type:"add",hash:t})},containsTorrent(t){return this.$store.getters.containsTorrent(t)},showInfo(t){this.$store.commit("TOGGLE_MODAL","TorrentDetailModal"),this.$store.commit("SET_SELECTED_TORRENT_DETAIL",t)}}},A=M,B=(s("46f7"),Object(m["a"])(A,S,O,!1,null,null,null)),N=B.exports,I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{scrollable:"",width:t.dialogWidth,fullscreen:t.phoneLayout},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.torrent?s("v-card",{staticStyle:{"min-height":"400px",overflow:"hidden !important"}},[s("div",{class:"pa-0 project "+t.torrent.state,style:{height:t.phoneLayout?"100vh":""}},[s("v-card-title",{staticClass:"pb-0 justify-center primary"},[s("h2",{staticClass:"white--text"},[t._v("Torrent Detail")])]),s("v-tabs",{attrs:{"background-color":"primary","center-active":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab",{attrs:{href:"#info"}},[t._v("Info")]),s("v-tab",{attrs:{href:"#trackers"}},[t._v("Trackers")]),s("v-tab",{attrs:{href:"#peers"}},[t._v("Peers")]),s("v-tab",{attrs:{href:"#content"}},[t._v("Content")])],1),s("v-tabs-items",{attrs:{touchless:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab-item",{attrs:{value:"info"}},[s("info",{attrs:{"is-active":"info"===t.tab,hash:t.hash}})],1),s("v-tab-item",{attrs:{value:"peers"}},[s("Peers",{attrs:{"is-active":"peers"===t.tab,hash:t.hash}})],1),s("v-tab-item",{attrs:{value:"trackers"}},[s("Trackers",{attrs:{"is-active":"trackers"===t.tab,hash:t.hash}})],1),s("v-tab-item",{attrs:{value:"content"}},[s("Content",{attrs:{"is-active":"content"===t.tab,hash:t.hash}})],1)],1)],1),t.phoneLayout?s("v-fab-transition",[s("v-btn",{attrs:{color:"red",dark:"",absolute:"",bottom:"",right:""},on:{click:t.close}},[s("v-icon",[t._v("close")])],1)],1):t._e()],1):t._e()],1)},F=[],U=s("4dc9"),z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{attrs:{flat:""}},[s("perfect-scrollbar",[s("v-card-text",{staticStyle:{"max-height":"500px","min-height":"400px"}},[s("v-treeview",{attrs:{items:t.fileTree,activatable:"","item-key":"name","open-on-click":""},scopedSlots:t._u([{key:"prepend",fn:function(e){var a=e.item,r=e.open;return[a.icon?s("v-icon",[t._v(t._s(a.icon))]):s("v-icon",[t._v(" "+t._s(r?"mdi-folder-open":"mdi-folder")+" ")])]}},{key:"append",fn:function(e){var a=e.item;return[a.icon?s("div",[s("span",[t._v("["+t._s(a.size)+"]")]),s("span",{staticClass:"ml-4"},[t._v(t._s(a.progress)+"%")])]):s("span",[t._v(t._s(a.children.length)+" Files")])]}}]),model:{value:t.tree,callback:function(e){t.tree=e},expression:"tree"}})],1)],1)],1)},G=[];function V(t,e){if(0==t)return"0 Bytes";const s=1024,a=e||2,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(t)/Math.log(s));return`${parseFloat((t/Math.pow(s,n)).toFixed(a))} ${r[n]}`}function W(t){let e={html:"mdi-language-html5",js:"mdi-nodejs",json:"mdi-json",md:"mdi-markdown",pdf:"mdi-file-pdf",png:"mdi-file-image",txt:"mdi-file-document-outline",sub:"mdi-file-document-outline",idx:"mdi-file-document-outline",xls:"mdi-file-excel",avi:"movie",mp4:"movie",mkv:"movie"};return e[t]?e[t]:"insert_drive_file"}const Y=navigator.userAgent.includes("Windows");function H(t){const e=127397;t=t.toUpperCase();const s=[...t].map(t=>e+t.charCodeAt(0)),a=String.fromCodePoint(...s),r=`https://cdn.jsdelivr.net/npm/twemoji/2/svg/${s[0].toString(16)}-${s[1].toString(16)}.svg`;return{char:a,url:r}}function J(t){let e=[],s={result:e};function a(t){if(0!==t.children.length){let e=Z(t.name,t.children);return e.children=e.children.map(t=>a(t)),e}return t}return t.forEach(t=>{t.name.split("/").reduce((e,s,a,r)=>(e[s]||(e[s]={result:[]},e.result.push(K(t,s,e[s].result))),e[s]),s)}),e=e.map(t=>a(t)),e}function K(t,e,s){return{name:e,progress:Math.round(100*t.progress),size:V(t.size),icon:W(e.split(".").pop()),children:s}}function Z(t,e){return{name:t,type:"directory",children:e}}var q={name:"Content",props:{hash:String,isActive:Boolean},data(){return{tree:[],treeData:null}},computed:{fileTree(){return this.treeData?J(this.treeData):[]}},methods:{async getTorrentFiles(){const{data:t}=await u["a"].getTorrentFiles(this.hash);this.treeData=t}},watch:{isActive(t){t&&this.getTorrentFiles()}}},Q=q,X=Object(m["a"])(Q,z,G,!1,null,null,null),tt=X.exports,et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{attrs:{flat:""}},[s("v-card-text",{staticStyle:{"font-size":"1.2em"}},[s("v-simple-table",[s("tbody",[s("tr",[s("td",{staticClass:"grey--text"},[t._v("Torrent title")]),s("td",{staticClass:"torrentmodaltext--text"},[t._v(" "+t._s(t.torrent.name)+" ")])]),s("tr",{staticClass:"mt-2"},[s("td",{staticClass:"grey--text"},[t._v("hash")]),s("td",{staticClass:"torrentmodaltext--text"},[t._v(" "+t._s(t.torrent.hash)+" ")])]),s("tr",{staticClass:"mt-2"},[s("td",{staticClass:"grey--text"},[t._v("Size")]),s("td",{staticClass:"torrentmodaltext--text"},[t._v(" "+t._s(t.torrent.size)+" ")])]),s("tr",{staticClass:"mt-2"},[s("td",{staticClass:"grey--text"},[t._v("Done:")]),s("td",{staticClass:"torrentmodaltext--text"},[t._v(" "+t._s(t.torrent.dloaded)+" ")])]),s("tr",{staticClass:"mt-2"},[s("td",{staticClass:"grey--text"},[t._v("Download")]),s("td",{staticClass:"torrentmodaltext--text"},[t._v(" "+t._s(t.torrent.dlspeed)+" ")])]),s("tr",{staticClass:"mt-2"},[s("td",{staticClass:"grey--text"},[t._v("Upload")]),s("td",{staticClass:"torrentmodaltext--text"},[t._v(" "+t._s(t.torrent.upspeed)+" ")])]),s("tr",{staticClass:"mt-2"},[s("td",{staticClass:"grey--text"},[t._v("ETA")]),s("td",{staticClass:"torrentmodaltext--text"},[t._v(" "+t._s(t.torrent.eta)+" ")])]),s("tr",{staticClass:"mt-2"},[s("td",{staticClass:"grey--text"},[t._v("Peers")]),s("td",{staticClass:"torrentmodaltext--text"},[t._v(" "+t._s(t.torrent.num_leechs)),s("span",{staticClass:"grey--text"},[t._v("/"+t._s(t.torrent.available_peers))])])]),s("tr",{staticClass:"mt-2"},[s("td",{staticClass:"grey--text"},[t._v("Seeds")]),s("td",{staticClass:"torrentmodaltext--text"},[t._v(" "+t._s(t.torrent.num_seeds)),s("span",{staticClass:"grey--text"},[t._v("/"+t._s(t.torrent.available_seeds))])])]),s("tr",{staticClass:"mt-2"},[s("td",{staticClass:"grey--text"},[t._v("Ratio")]),s("td",{staticClass:"torrentmodaltext--text"},[t._v(" "+t._s(t.torrent.ratio)+"% ")])]),s("tr",[s("td",{staticClass:"grey--text"},[t._v("Status")]),s("v-chip",{class:t.torrent.state+" white--text my-2 caption",attrs:{small:""}},[t._v(t._s(t.torrent.state))])],1)])]),s("v-flex",{staticClass:"pt-3 pb-4"},[s("v-progress-linear",{attrs:{height:"5",stream:"",rounded:"",color:"cyan darken-1","background-color":"cyan lighten-3","buffer-value":t.torrent.progress}})],1)],1)],1)},st=[],at={name:"Info",props:{hash:String},computed:{...Object(o["b"])(["getTorrent"]),torrent(){return this.getTorrent(this.hash)}}},rt=at,nt=Object(m["a"])(rt,et,st,!1,null,null,null),ot=nt.exports,it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("perfect-scrollbar",[t.peers?s("v-data-table",{staticStyle:{"max-height":"500px","min-height":"400px"},attrs:{headers:t.headers,items:t.peers,"items-per-page":-1,"hide-default-footer":!0},scopedSlots:t._u([{key:"item",fn:function(e){return[s("tr",[s("td",{staticClass:"ip"},[e.item.country_code?[t.isWindows?s("img",{staticClass:"country-flag",attrs:{title:e.item.country,alt:t.codeToFlag(e.item.country_code).char,src:t.codeToFlag(e.item.country_code).url}}):[t._v(t._s(t.codeToFlag(e.item.country_code).char))]]:t._e(),t._v(" "+t._s(e.item.ip)+" "),s("span",{staticClass:"grey--text"},[t._v(":"+t._s(e.item.port))])],2),s("td",[t._v(t._s(e.item.connection))]),s("td",{attrs:{title:e.item.flags_desc}},[t._v(t._s(e.item.flags))]),s("td",[t._v(t._s(e.item.client))]),s("td",[t._v(t._s(t._f("progress")(e.item.progress)))]),s("td",[t._v(t._s(t._f("networkSpeed")(e.item.dl_speed)))]),s("td",[t._v(t._s(t._f("networkSize")(e.item.downloaded)))]),s("td",[t._v(t._s(t._f("networkSpeed")(e.item.up_speed)))]),s("td",[t._v(t._s(t._f("networkSize")(e.item.uploaded)))]),s("td",[t._v(t._s(t._f("progress")(e.item.relevance)))]),s("td",[t._v(t._s(e.item.files))])])]}}],null,!1,1524288122)}):t._e()],1)},lt=[],ct=s("2ef0"),dt={name:"Peers",props:{hash:String,isActive:Boolean},data:()=>({headers:[{text:"IP",value:"ip"},{text:"Connection",value:"connection"},{text:"Flags",value:"flags"},{text:"Client",value:"client"},{text:"Progress",value:"progress"},{text:"DL Speed",value:"dl_speed"},{text:"Downloaded",value:"downloaded"},{text:"UP Speed",value:"up_speed"},{text:"Uploaded",value:"uploaded"},{text:"Relevance",value:"relevance"},{text:"Files",value:"files"}],peersObj:null}),methods:{codeToFlag(t){return H(t)},isWindows(){return Y()},async getTorrentPeers(){const{data:t}=await u["a"].getTorrentPeers(this.hash,this.rid||void 0);if(this.rid=t.rid,t.full_update)this.peersObj=t.peers;else{const e=Object(ct["cloneDeep"])(this.peersObj);if(t.peers_removed)for(const s of t.peers_removed)delete e[s];this.peersObj=Object(ct["merge"])(e,t.peers)}}},watch:{isActive(t){t&&this.getTorrentPeers()}},computed:{rid:{get(){return this.$store.state.rid},set(t){this.$store.state.rid=t}},peers(){return Object(ct["map"])(this.peersObj,(t,e)=>Object(ct["merge"])({},t,{key:e}))}}},ut=dt,pt=(s("f6c4"),s("af9a"),Object(m["a"])(ut,it,lt,!1,null,"c765fa70",null)),ht=pt.exports,mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("perfect-scrollbar",[t.trackers?s("v-data-table",{staticStyle:{"max-height":"500px","min-height":"400px"},attrs:{headers:t.headers,items:t.trackers,"hide-default-footer":!0},scopedSlots:t._u([{key:"item",fn:function(e){return[s("tr",[s("td",[t._v(t._s(e.item.tier))]),s("td",[t._v(t._s(e.item.url))]),s("td",[t._v(t._s(t._f("formatTrackerStatus")(e.item.status)))]),s("td",[t._v(t._s(t._f("formatTrackerNum")(e.item.num_peers)))]),s("td",[t._v(t._s(t._f("formatTrackerNum")(e.item.num_seeds)))]),s("td",[t._v(t._s(t._f("formatTrackerNum")(e.item.num_leeches)))]),s("td",[t._v(t._s(t._f("formatTrackerNum")(e.item.num_downloaded)))]),s("td",[t._v(t._s(e.item.msg))])])]}}],null,!1,4290496080)}):t._e()],1)},vt=[],ft={name:"Trackers",props:{hash:String,isActive:Boolean},data:()=>({headers:[{text:"#",value:"tier"},{text:"URL",value:"url"},{text:"Status",value:"status"},{text:"Peers",value:"num_peers"},{text:"Seeds",value:"num_seeds"},{text:"Leeches",value:"num_leeches"},{text:"Downloaded",value:"num_downloaded"},{text:"Message",value:"msg"}],tempTrackers:[]}),methods:{async getTorrentTrackers(){const{data:t}=await u["a"].getTorrentTrackers(this.hash);this.tempTrackers=t}},watch:{isActive(t){t&&this.getTorrentTrackers()}},filters:{formatTrackerStatus(t){const e=["Disabled","Not contacted","Working","Updating","Not working"];return e[t]},formatTrackerNum(t){return-1===t?"N/A":t.toString()}},computed:{trackers(){return this.tempTrackers}}},_t=ft,gt=(s("ec3b"),Object(m["a"])(_t,mt,vt,!1,null,"2fb8ab2c",null)),xt=gt.exports,yt={name:"TorrentDetailModal",mixins:[U["a"]],components:{Content:tt,Info:ot,Peers:ht,Trackers:xt},data(){return{tab:null,items:[{tab:"Info"},{tab:"Content"}],peers:[]}},methods:{close(){this.$store.commit("TOGGLE_MODAL","TorrentDetailModal")}},computed:{...Object(o["b"])(["getTorrent"]),hash(){return this.$store.state.selectedDetailTorrent},torrent(){return this.getTorrent(this.hash)},phoneLayout(){return this.$vuetify.breakpoint.xsOnly},dialogWidth(){return this.phoneLayout?"100%":"80%"}},watch:{dialog(t){t||(this.tab=null)}}},bt=yt,wt=Object(m["a"])(bt,I,F,!1,null,null,null),Tt=wt.exports;function kt(t){switch(t){case"title":case"name":case"Name":case"Title":return"name";case"size":case"Size":return"size";case"dlspeed":case"Dlspeed":case"Download":case"download":case"downloadspeed":return"dlspeed";case"upspeed":case"upload":case"Upload":case"Upspeed":case"uploadspeed":return"upspeed";case"leechs":case"leechers":case"leech":case"peers":case"Leechs":case"Leechers":case"Leech":case"Peers":return"num_leechs";case"seeds":case"seeders":case"Seeds":case"Seeders":return"num_seeds";case"remaining":case"time":case"Time":case"ETA":case"eta":return"eta";case"done":case"downloaded":case"dloaded":case"Done":case"Downloaded":case"Dloaded":return"progress";case"state":case"status":case"State":case"Status":return"state";default:return"name"}}function Ct(t){switch(t){case"sort":case"s":case"srt":return"sort";case"f":case"filter":case"filtr":case"fltr":case"filt":return"filter";default:return"sort"}}function St(t){switch(t){case"Done":case"done":case"completed":case"complete":return"completed";case"Busy":case"busy":case"downl":case"download":case"downloading":case"act":case"active":case"resumed":return"active";case"fail":case"failed":case"faild":case"stalled":case"stalld":case"stall":return"stalled";case"pause":case"paused":return"paused";default:return null}}var Ot={name:"Dashboard",components:{Torrent:N,TorrentDetailModal:Tt},data(){return{sort_input:""}},computed:{...Object(o["d"])(["mainData","torrents","selected_torrents"])},methods:{...Object(o["c"])(["SORT_TORRENTS"]),sortBy(){let t=this.sort_input.split(" ");if(0===t.length){let t="name",e=!1;return this.$store.commit("UPDATE_SORT_OPTIONS",{name:t,reverse:e})}if(1===t.length){let e=kt(t[0]),s=!1;return this.$store.commit("UPDATE_SORT_OPTIONS",{name:e,reverse:s})}if(2===t.length){let e=Ct(t[0]);if("sort"===e){let e=kt(t[1]),s=!1;return this.$store.commit("UPDATE_SORT_OPTIONS",{name:e,reverse:s})}if("filter"===e){let e=St(t[1]);if(e){let t="name",s=!1;return this.$store.commit("UPDATE_SORT_OPTIONS",{name:t,reverse:s,filter:e})}let s=this.torrents.filter(e=>e.name.toLowerCase().includes(t[1].toLowerCase())),a="name",r=!1,n=s.map(t=>t.hash);return this.$store.commit("UPDATE_SORT_OPTIONS",{name:a,reverse:r,hashes:n})}}if(3===t.length){let e=Ct(t[0]);if("sort"===e){let e=kt(t[1]),s="desc"===t[2];return this.$store.commit("UPDATE_SORT_OPTIONS",{name:e,reverse:s})}}},resetSelected(){this.$store.commit("RESET_SELECTED")}},created(){this.$store.dispatch("INIT_INTERVALS")},beforeDestroy(){this.$store.commit("REMOVE_INTERVALS")}},Et=Ot,Lt=Object(m["a"])(Et,k,C,!1,null,null,null),Dt=Lt.exports,jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{staticClass:"justify-center",attrs:{row:"",wrap:"","align-center":""}},[s("div",{staticStyle:{margin:"100px auto"}},[s("v-container",{staticClass:"grey lighten-4 pa-0"},[s("v-card",{attrs:{"max-width":"400",flat:""}},[s("v-container",{class:"pa-3 project done"},[s("v-card-title",{staticClass:"justify-center"},[s("h2",[t._v("Login")])]),s("div",{staticClass:"mr-5 ml-5"}),s("v-card-text",[s("v-form",{ref:"form",staticClass:"px-3"},[s("v-text-field",{attrs:{flat:"",solo:"","background-color":"grey lighten-4",label:"username","prepend-icon":"person",rules:t.inputRules,autocomplete:"current email",name:"username"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.Login(e)}},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("v-text-field",{attrs:{flat:"",solo:"","background-color":"grey lighten-4",type:"password",label:"password","prepend-icon":"lock",rules:t.inputRules,autocomplete:"current password",name:"password"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.Login(e)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("v-spacer"),s("v-card-actions",{staticClass:"justify-center"},[s("v-btn",{staticClass:"blue_accent white--text mx-0 mt-3",attrs:{text:""},on:{click:t.Login}},[t._v("Login")])],1)],1)],1)],1)],1)],1)],1)])},Pt=[],$t={name:"Login",data(){return{username:"",password:"",inputRules:[t=>t.length>=1||"At least 1 character"]}},methods:{async Login(){const t=await this.$store.dispatch("LOGIN",{username:this.username,password:this.password});t&&this.$router.push("/")}}},Rt=$t,Mt=Object(m["a"])(Rt,jt,Pt,!1,null,null,null),At=Mt.exports;a["default"].use(T["a"]);const Bt=new T["a"]({mode:"history",base:"",routes:[{path:"/",name:"dashboard",component:Dt},{path:"/login",name:"login",component:At,meta:{public:!0,onlyWhenLoggedOut:!0}}]});Bt.beforeEach(async(t,e,s)=>{const a=t.matched.some(t=>t.meta.public),r=t.matched.some(t=>t.meta.onlyWhenLoggedOut),n=await _();return a||n?n&&r?s("/"):void s():s({path:"/login",query:{redirect:t.fullPath}})});var Nt=Bt,It=s("bfa9");class Ft{constructor(t){this.name=t.name,this.size=this.formatBytes(t.size),this.birth=new Date(1e3*t.added_on).toLocaleString(),this.dlspeed=this.formatBytes(t.dlspeed,1),this.dloaded=this.formatBytes(t.downloaded),this.upspeed=this.formatBytes(t.upspeed,1),this.uploaded=this.formatBytes(t.uploaded),this.eta=`${new Date(t.eta).getHours()}h ${new Date(t.eta).getMinutes()}min`,this.num_leechs=t.num_leechs,this.num_seeds=t.num_seeds,this.path=void 0===t.path?"/downloads":t.path,this.state=this.formatState(t.state),this.hash=t.hash,this.available_seeds=t.num_complete,this.available_peers=t.num_incomplete,this.savePath=t.save_path,this.progress=Math.round(t.downloaded/t.size*100),this.ratio=Math.round(100*t.ratio)}formatState(t){switch(t){case"pausedDL":return"paused";case"downloading":return"busy";case"stalledDL":return"fail";case"pausedUP":return"done";case"missingFiles":return"fail";case"stalledUP":return"done";default:return"fail"}}formatBytes(t,e){if(0==t)return"0 Bytes";const s=1024,a=e||2,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(t)/Math.log(s));return`${parseFloat((t/Math.pow(s,n)).toFixed(a))} ${r[n]}`}}class Ut{constructor(t){void 0!=t&&null!=t&&(this.status=t.connection_status,this.downloaded=this.formatBytes(t.dl_info_data,1),this.uploaded=this.formatBytes(t.up_info_data,1),this.dlspeed=this.formatBytes(t.dl_info_speed,1),this.upspeed=this.formatBytes(t.up_info_speed,1),this.freeDiskSpace=this.formatBytes(t.free_space_on_disk),this.altSpeed=t.use_alt_speed_limits,this.dlspeedRaw=Math.round(t.dl_info_speed/1e3),this.upspeedRaw=Math.round(t.up_info_speed/1e3))}formatBytes(t,e){if(0==t)return"0 Bytes";const s=1024,a=e||2,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(t)/Math.log(s));return`${parseFloat((t/Math.pow(s,n)).toFixed(a))} ${r[n]}`}}const zt=new It["a"]({key:"vuetorrent",storage:window.localStorage});a["default"].use(o["a"]);var Gt=new o["a"].Store({plugins:[zt.plugin],state:{darkTheme:!1,intervals:[],status:null,upload_data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],download_data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],torrents:[],selected_torrents:[],authenticated:!1,loading:!1,sort_options:{sort:"name",reverse:!1,hashes:[],filter:null},rid:0,mainData:void 0,preferences:null,pasteUrl:null,modals:{addmodal:!1,deletemodal:!1,settingsmodal:!1,torrentdetailmodal:!1},settings:{},selectedDetailTorrent:null},getters:{containsTorrent:t=>e=>t.selected_torrents.includes(e),getTheme:t=>()=>t.darkTheme,getModalState:t=>e=>t.modals[e.toLowerCase()],getSettings:t=>()=>t.settings,getStatus:t=>()=>t.status,getTorrent:t=>e=>t.torrents.filter(t=>t.hash===e)[0]},mutations:{REMOVE_INTERVALS:t=>{t.intervals.forEach(t=>clearInterval(t))},TOGGLE_MODAL(t,e){t.modals[e.toLowerCase()]=!t.modals[e.toLowerCase()]},SET_SELECTED:(t,e)=>{"add"===e.type&&t.selected_torrents.push(e.hash),"remove"===e.type&&t.selected_torrents.splice(t.selected_torrents.indexOf(e.hash),1)},RESET_SELECTED:t=>{t.selected_torrents=[]},TOGGLE_THEME(t){t.darkTheme=!t.darkTheme},LOGOUT:t=>{u["a"].logout(),t.authenticated=!1},LOGIN:async(t,e)=>{t.authenticated=e},updateMainData:async t=>{const e=t.rid?t.rid:void 0,s=await u["a"].getMainData(e);t.status=new Ut(s.data.server_state),t.download_data.splice(0,1),t.download_data.push(t.status.dlspeedRaw),t.upload_data.splice(0,1),t.upload_data.push(t.status.upspeedRaw);const{data:a}=await u["a"].getTorrents(t.sort_options);t.torrents=[];for(const[r,n]of Object.entries(a))t.torrents.push(new Ft({hash:r,...n}))},SET_SETTINGS:async t=>{const{data:e}=await u["a"].getAppPreferences();t.settings.savePath=e.save_path},SET_SELECTED_TORRENT_DETAIL:(t,e)=>{t.selectedDetailTorrent=e},UPDATE_SORT_OPTIONS:(t,e)=>{t.sort_options.sort=e.name,t.sort_options.reverse=e.reverse,t.sort_options.hashes=e.hashes?e.hashes:null,t.sort_options.filter=e.filter?e.filter:null}},actions:{INIT_INTERVALS:async t=>{t.state.intervals[0]=setInterval(()=>{t.commit("updateMainData")},2e3)},LOGIN:async(t,e)=>{const s=await u["a"].login(e);return console.log(s),"Ok."===s?(a["default"].$toast.success("Successfully logged in!"),t.commit("LOGIN",!0),t.commit("updateMainData"),t.commit("SET_SETTINGS"),!0):(a["default"].$toast.error("Log in failed ðŸ˜•"),!1)}}}),Vt=(s("e792"),s("5a0c")),Wt=s.n(Vt);function Yt(t,e){return t>=10**e?t.toString():t>=1?t.toPrecision(e):t.toFixed(e-1)}function Ht(t){const e="KMGTP";let s=-1;while(t>=1e3)t/=1024,s++;const a=s<0?"B":e[s]+"iB";return s<0?`${t} ${a}`:`${Yt(t,3)} ${a}`}function Jt(t){if(null==t||-1===t)return"";const e=Wt.a.unix(t);return e.format("YYYY-MM-DD HH:mm:ss")}function Kt(t){return t*=100,Yt(t,3)+"%"}function Zt(t){return t?Date.parse(t)/1e3:null}function qt(t){return 0===t?null:Ht(t)+"/s"}function Qt(t){return 0===t?null:Ht(t)}a["default"].filter("formatSize",Ht),a["default"].filter("size",Ht),a["default"].filter("formatTimestamp",Jt),a["default"].filter("progress",Kt),a["default"].filter("parseDate",Zt),a["default"].filter("networkSpeed",qt),a["default"].filter("networkSize",Qt);var Xt=s("85fe"),te=s("6c42"),ee=(s("da96"),s("ce5b")),se=s.n(ee),ae=(s("bf40"),s("fcf4"));a["default"].use(se.a);var re=new se.a({icons:{iconfont:"fa"},theme:{options:{customProperties:!0},dark:!1,themes:{light:{primary:"#35495e",secondary:"#3e556d",secondary_lighter:"#56718c",blue_accent:"#3cd1c2",info:"#ffaa2c",error:"#f83e70",green_accent:"#3cd1c2",download:"#64CEAA",upload:"#00b3fa",torrent:"#fff",torrent_selected:ae["a"].grey.lighten2,background:ae["a"].grey.lighten4,search:ae["a"].grey.darken1,torrentmodaltext:ae["a"].grey.darken4},dark:{primary:"#35495e",secondary:"#3e556d",secondary_lighter:"#56718c",blue_accent:"#3cd1c2",info:"#ffaa2c",error:"#f83e70",green_accent:"#3cd1c2",download:"#64CEAA",upload:"#00b3fa",torrent:ae["a"].grey.darken3,torrent_selected:ae["a"].grey,background:ae["a"].grey.darken4,search:ae["a"].grey.darken3,torrentmodaltext:ae["a"].grey.lighten4}}}}),ne=s("a4a1"),oe=s.n(ne);s("f6b9");a["default"].use(Xt["a"]),a["default"].use(te["a"],{maxToasts:5,timeout:2e3}),a["default"].use(oe.a),a["default"].config.productionTip=!1;const ie=s("06af");ie.keys().map(t=>a["default"].component(t.split("/").pop().split(".")[0],ie(t).default)),new a["default"]({router:Nt,store:Gt,vuetify:re,render:t=>t(b)}).$mount("#app")},"5dfc":function(t,e,s){"use strict";var a=s("1a12"),r=s.n(a);r.a},"6f30":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-container",{class:"pa-0 project done"},[s("v-card-title",{staticClass:"justify-center"},[s("h2",[t._v("Add a new Torrent")])]),s("v-card-text",[s("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-container",[s("v-row",{attrs:{"no-gutters":""}},[s("v-col",{ref:"fileZone"},[s("v-file-input",{attrs:{color:"deep-purple accent-4",counter:"",label:"File input",multiple:"",placeholder:"Select your files","prepend-icon":"mdi-paperclip",outlined:"","show-size":1e3},scopedSlots:t._u([{key:"selection",fn:function(e){var a=e.index,r=e.text;return[a<2?s("v-chip",{attrs:{color:"deep-purple accent-4",dark:"",label:"",small:""}},[t._v(" "+t._s(r)+" ")]):2===a?s("span",{staticClass:"overline grey--text text--darken-3 mx-2"},[t._v(" +"+t._s(t.files.length-2)+" File(s) ")]):t._e()]}}]),model:{value:t.files,callback:function(e){t.files=e},expression:"files"}}),s("v-text-field",{attrs:{label:"URL","prepend-icon":"mdi-link",rows:t.$vuetify.breakpoint.xsOnly?1:3,required:"",autofocus:!t.phoneLayout},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1)],1),s("v-text-field",{attrs:{placeholder:t.savepath,label:"Download Directory","prepend-icon":"folder"},model:{value:t.directory,callback:function(e){t.directory=e},expression:"directory"}})],1)],1)],1),s("v-spacer"),s("v-form",[s("v-card-actions",{staticClass:"justify-center"},[s("v-btn",{staticClass:"blue_accent white--text mx-0 mt-3",attrs:{text:"",disabled:!t.valid},on:{click:t.submit}},[t._v("Add Torrent")])],1)],1)],1)],1)],1)},r=[],n=s("2f62"),o=s("4dc9"),i=s("81f2"),l={name:"AddModal",mixins:[o["a"]],data(){return{files:[],directory:"",inputRules:[t=>t.indexOf("magnet")>-1||t.indexOf("http")>-1||this.validFile||"Not a valid magnet link"],loading:!1,url:null,valid:!1}},methods:{submit(){if(this.files.length||this.url){let t=[],e={urls:null};this.files.length&&t.push(...this.files),this.url&&(e.urls=this.url),this.directory&&(e.savepath=this.directory),i["a"].addTorrents(e,t),this.resetForm(),this.$store.commit("TOGGLE_MODAL","addmodal")}},resetForm(){this.url=null,this.files=[],this.directory=null}},computed:{...Object(n["b"])(["getSettings"]),validFile(){return this.Files.length>0},phoneLayout(){return this.$vuetify.breakpoint.xsOnly},savepath(){return this.getSettings().savePath}}},c=l,d=s("2877"),u=Object(d["a"])(c,a,r,!1,null,null,null);e["default"]=u.exports},"81f2":function(t,e,s){"use strict";var a=s("bc3a"),r=s.n(a);class n{constructor(){this.axios=r.a.create({baseURL:"api/v2"}),this.axios.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded"}getAppVersion(){return this.axios.get("/app/version")}getApiVersion(){return this.axios.get("/app/webapiVersion")}async login(t){const e=new URLSearchParams(t),{data:s}=await this.axios.post("/auth/login",e,{validateStatus(t){return 200===t||403===t}});return s}async logout(){this.axios.post("/auth/logout")}getGlobalTransferInfo(){return this.axios.get("/transfer/info")}getAppPreferences(){return this.axios.get("/app/preferences")}getMainData(t){const e={rid:t};return this.axios.get("/sync/maindata",{params:e})}addTorrents(t,e){let s;if(e){const a=new FormData;if(t)for(const[e,s]of Object.entries(t))a.append(e,s);for(const t of e)a.append("torrents",t);s=a}else s=new URLSearchParams(t);return this.axios.post("/torrents/add",s)}switchToOldUi(){const t={alternative_webui_enabled:!1};return this.setPreferences(t)}setPreferences(t){const e=new URLSearchParams({json:JSON.stringify(t)});return this.axios.post("/app/setPreferences",e)}setTorrentFilePriority(t,e,s){const a=e.join("|"),r={hash:t,id:a,priority:s},n=new URLSearchParams(r);return this.axios.post("/torrents/filePrio",n)}getLogs(t){const e={last_known_id:t};return this.axios.get("/log/main",{params:e})}toggleSpeedLimitsMode(){return this.axios.post("/transfer/toggleSpeedLimitsMode")}getTorrents(t){let e={sort:t.sort,reverse:t.reverse,hashes:t.hashes?t.hashes.join("|"):null,filter:t.filter?t.filter:null};Object.keys(e).forEach(t=>null==e[t]&&delete e[t]);const s=new URLSearchParams(e);return this.axios.get("/torrents/info?"+s.toString())}deleteTorrents(t,e){return this.actionTorrents("delete",t,{deleteFiles:e})}pauseTorrents(t){return this.actionTorrents("pause",t)}resumeTorrents(t){return this.actionTorrents("resume",t)}reannounceTorrents(t){return this.actionTorrents("reannounce",t)}recheckTorrents(t){return this.actionTorrents("recheck",t)}setTorrentsCategory(t,e){return this.actionTorrents("setCategory",t,{category:e})}getTorrentTrackers(t){const e={hash:t};return this.axios.get("/torrents/trackers",{params:e})}getTorrentPeers(t,e){const s={hash:t,rid:e};return this.axios.get("/sync/torrentPeers",{params:s})}editTracker(t,e,s){return this.actionTorrents("editTracker",[t],{origUrl:e,newUrl:s})}setTorrentLocation(t,e){return this.actionTorrents("setLocation",t,{location:e})}getTorrentProperties(t){const e={hash:t};return this.axios.get("/torrents/properties",{params:e})}getTorrentPieceStates(t){const e={hash:t};return this.axios.get("/torrents/pieceStates",{params:e})}getTorrentFiles(t){const e={hash:t};return this.axios.get("/torrents/files",{params:e})}getRssItems(){const t={withData:!0};return this.axios.get("/rss/items",{params:t})}addRssFeed(t,e=""){const s={url:t,path:e},a=new URLSearchParams(s);return this.axios.post("/rss/addFeed",a)}removeRssFeed(t){const e={path:t},s=new URLSearchParams(e);return this.axios.post("/rss/removeItem",s)}refreshRssFeed(t){const e={itemPath:t},s=new URLSearchParams(e);return this.axios.post("/rss/refreshItem",s)}moveRssFeed(t,e){const s={itemPath:t,destPath:e},a=new URLSearchParams(s);return this.axios.post("/rss/moveItem",a)}getRssRules(){return this.axios.get("/rss/rules")}setRssRule(t,e){const s={ruleName:t,ruleDef:JSON.stringify(e)},a=new URLSearchParams(s);return this.axios.post("/rss/setRule",a)}removeRssRule(t){const e={ruleName:t},s=new URLSearchParams(e);return this.axios.post("/rss/removeRule",s)}actionTorrents(t,e,s){const a={hashes:e.join("|"),...s},r=new URLSearchParams(a);return this.axios.post("/torrents/"+t,r)}}e["a"]=new n},"8deb":function(t,e,s){},"90c0":function(t,e,s){},af9a:function(t,e,s){"use strict";var a=s("e3c1"),r=s.n(a);r.a},e1ce:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-container",{class:"pa-0 project done",staticStyle:{"min-height":"300px"}},[s("v-card-title",{staticClass:"justify-center"},[s("h2",[t._v("Settings")])]),s("v-form",[s("v-card-actions",{staticClass:"justify-center"},[s("v-btn",{staticClass:"blue_accent white--text mx-0 mt-3",attrs:{text:""},on:{click:t.switchOldUI}},[t._v("switch to old ui")])],1)],1)],1)],1)],1)},r=[],n=s("4dc9"),o=s("81f2"),i={name:"SettingsModal",mixins:[n["a"]],methods:{async switchOldUI(){await o["a"].switchToOldUi(),window.location.reload(!0)}}},l=i,c=s("2877"),d=Object(c["a"])(l,a,r,!1,null,null,null);e["default"]=d.exports},e3c1:function(t,e,s){},ec3b:function(t,e,s){"use strict";var a=s("8deb"),r=s.n(a);r.a},f6c4:function(t,e,s){"use strict";var a=s("90c0"),r=s.n(a);r.a}});
//# sourceMappingURL=app.b15442cb.js.map